<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_312) on Tue Dec 14 13:47:35 CET 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>IndexWriter (Lucene 8.11.1 API)</title>
<meta name="date" content="2021-12-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IndexWriter (Lucene 8.11.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IndexWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/IndexUpgrader.html" title="class in org.apache.lucene.index"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/lucene/index/IndexWriter.DocStats.html" title="class in org.apache.lucene.index"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/index/IndexWriter.html" target="_top">Frames</a></li>
<li><a href="IndexWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.lucene.index</div>
<h2 title="Class IndexWriter" class="title">Class IndexWriter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.index.IndexWriter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>, <a href="../../../../org/apache/lucene/index/TwoPhaseCommit.html" title="interface in org.apache.lucene.index">TwoPhaseCommit</a>, <a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">IndexWriter</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="../../../../org/apache/lucene/index/TwoPhaseCommit.html" title="interface in org.apache.lucene.index">TwoPhaseCommit</a>, <a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a></pre>
<div class="block">An <code>IndexWriter</code> creates and maintains an index.

  <p>The <a href="../../../../org/apache/lucene/index/IndexWriterConfig.OpenMode.html" title="enum in org.apache.lucene.index"><code>IndexWriterConfig.OpenMode</code></a> option on 
  <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html#setOpenMode-org.apache.lucene.index.IndexWriterConfig.OpenMode-"><code>IndexWriterConfig.setOpenMode(OpenMode)</code></a> determines 
  whether a new index is created, or whether an existing index is
  opened. Note that you can open an index with <a href="../../../../org/apache/lucene/index/IndexWriterConfig.OpenMode.html#CREATE"><code>IndexWriterConfig.OpenMode.CREATE</code></a>
  even while readers are using the index. The old readers will 
  continue to search the "point in time" snapshot they had opened, 
  and won't see the newly created index until they re-open. If 
  <a href="../../../../org/apache/lucene/index/IndexWriterConfig.OpenMode.html#CREATE_OR_APPEND"><code>IndexWriterConfig.OpenMode.CREATE_OR_APPEND</code></a> is used IndexWriter will create a
  new index if there is not already an index at the provided path
  and otherwise open the existing index.</p>

  <p>In either case, documents are added with <a href="../../../../org/apache/lucene/index/IndexWriter.html#addDocument-java.lang.Iterable-"><code>addDocument</code></a> and removed with <a href="../../../../org/apache/lucene/index/IndexWriter.html#deleteDocuments-org.apache.lucene.index.Term...-"><code>deleteDocuments(Term...)</code></a> or <a href="../../../../org/apache/lucene/index/IndexWriter.html#deleteDocuments-org.apache.lucene.search.Query...-"><code>deleteDocuments(Query...)</code></a>. A document can be updated with <a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocument-org.apache.lucene.index.Term-java.lang.Iterable-"><code>updateDocument</code></a> (which just deletes
  and then adds the entire document). When finished adding, deleting 
  and updating documents, <a href="../../../../org/apache/lucene/index/IndexWriter.html#close--"><code>close</code></a> should be called.</p>

  <a name="sequence_numbers"></a>
  <p>Each method that changes the index returns a <code>long</code> sequence number, which
  expresses the effective order in which each change was applied.
  <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a> also returns a sequence number, describing which
  changes are in the commit point and which are not.  Sequence numbers
  are transient (not saved into the index in any way) and only valid
  within a single <code>IndexWriter</code> instance.</p>

  <a name="flush"></a>
  <p>These changes are buffered in memory and periodically
  flushed to the <a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store"><code>Directory</code></a> (during the above method
  calls). A flush is triggered when there are enough added documents
  since the last flush. Flushing is triggered either by RAM usage of the
  documents (see <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html#setRAMBufferSizeMB-double-"><code>IndexWriterConfig.setRAMBufferSizeMB(double)</code></a>) or the
  number of added documents (see <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html#setMaxBufferedDocs-int-"><code>IndexWriterConfig.setMaxBufferedDocs(int)</code></a>).
  The default is to flush when RAM usage hits
  <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html#DEFAULT_RAM_BUFFER_SIZE_MB"><code>IndexWriterConfig.DEFAULT_RAM_BUFFER_SIZE_MB</code></a> MB. For
  best indexing speed you should flush by RAM usage with a
  large RAM buffer.
  In contrast to the other flush options <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html#setRAMBufferSizeMB-double-"><code>IndexWriterConfig.setRAMBufferSizeMB(double)</code></a> and 
  <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html#setMaxBufferedDocs-int-"><code>IndexWriterConfig.setMaxBufferedDocs(int)</code></a>, deleted terms
  won't trigger a segment flush. Note that flushing just moves the
  internal buffered state in IndexWriter into the index, but
  these changes are not visible to IndexReader until either
  <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a> or <a href="../../../../org/apache/lucene/index/IndexWriter.html#close--"><code>close()</code></a> is called.  A flush may
  also trigger one or more segment merges which by default
  run with a background thread so as not to block the
  addDocument calls (see <a href="#mergePolicy">below</a>
  for changing the <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a>).</p>

  <p>Opening an <code>IndexWriter</code> creates a lock file for the directory in use. Trying to open
  another <code>IndexWriter</code> on the same directory will lead to a
  <a href="../../../../org/apache/lucene/store/LockObtainFailedException.html" title="class in org.apache.lucene.store"><code>LockObtainFailedException</code></a>.</p>
  
  <a name="deletionPolicy"></a>
  <p>Expert: <code>IndexWriter</code> allows an optional
  <a href="../../../../org/apache/lucene/index/IndexDeletionPolicy.html" title="class in org.apache.lucene.index"><code>IndexDeletionPolicy</code></a> implementation to be specified.  You
  can use this to control when prior commits are deleted from
  the index.  The default policy is <a href="../../../../org/apache/lucene/index/KeepOnlyLastCommitDeletionPolicy.html" title="class in org.apache.lucene.index"><code>KeepOnlyLastCommitDeletionPolicy</code></a>
  which removes all prior commits as soon as a new commit is
  done.  Creating your own policy can allow you to explicitly
  keep previous "point in time" commits alive in the index for
  some time, either because this is useful for your application,
  or to give readers enough time to refresh to the new commit
  without having the old commit deleted out from under them.
  The latter is necessary when multiple computers take turns opening
  their own <code>IndexWriter</code> and <code>IndexReader</code>s
  against a single shared index mounted via remote filesystems
  like NFS which do not support "delete on last close" semantics.
  A single computer accessing an index via NFS is fine with the
  default deletion policy since NFS clients emulate "delete on
  last close" locally.  That said, accessing an index via NFS
  will likely result in poor performance compared to a local IO
  device. </p>

  <a name="mergePolicy"></a> <p>Expert:
  <code>IndexWriter</code> allows you to separately change
  the <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a> and the <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a>.
  The <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a> is invoked whenever there are
  changes to the segments in the index.  Its role is to
  select which merges to do, if any, and return a <a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index"><code>MergePolicy.MergeSpecification</code></a> describing the merges.
  The default is <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index"><code>LogByteSizeMergePolicy</code></a>.  Then, the <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a> is invoked with the requested merges and
  it decides when and how to run the merges.  The default is
  <a href="../../../../org/apache/lucene/index/ConcurrentMergeScheduler.html" title="class in org.apache.lucene.index"><code>ConcurrentMergeScheduler</code></a>. </p>

  <a name="OOME"></a><p><b>NOTE</b>: if you hit a
  VirtualMachineError, or disaster strikes during a checkpoint
  then IndexWriter will close itself.  This is a
  defensive measure in case any internal state (buffered
  documents, deletions, reference counts) were corrupted.  
  Any subsequent calls will throw an AlreadyClosedException.</p>

  <a name="thread-safety"></a><p><b>NOTE</b>: <a href="../../../../org/apache/lucene/index/IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> instances are completely thread
  safe, meaning multiple threads can call any of its
  methods, concurrently.  If your application requires
  external synchronization, you should <b>not</b>
  synchronize on the <code>IndexWriter</code> instance as
  this may cause deadlock; use your own (non-Lucene) objects
  instead. </p>
  
  <p><b>NOTE</b>: If you call
  <code>Thread.interrupt()</code> on a thread that's within
  IndexWriter, IndexWriter will try to catch this (eg, if
  it's in a wait() or Thread.sleep()), and will then throw
  the unchecked exception <a href="../../../../org/apache/lucene/util/ThreadInterruptedException.html" title="class in org.apache.lucene.util"><code>ThreadInterruptedException</code></a>
  and <b>clear</b> the interrupt status on the thread.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.DocStats.html" title="class in org.apache.lucene.index">IndexWriter.DocStats</a></span></code>
<div class="block">DocStats for this index</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.IndexReaderWarmer.html" title="interface in org.apache.lucene.index">IndexWriter.IndexReaderWarmer</a></span></code>
<div class="block">If <a href="../../../../org/apache/lucene/index/DirectoryReader.html#open-org.apache.lucene.index.IndexWriter-"><code>DirectoryReader.open(IndexWriter)</code></a> has
  been called (ie, this writer is in near real-time
  mode), then after a merge completes, this class can be
  invoked to warm the reader on the newly merged
  segment, before the merge commits.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#MAX_DOCS">MAX_DOCS</a></span></code>
<div class="block">Hard limit on maximum number of documents that may be added to the
  index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#MAX_POSITION">MAX_POSITION</a></span></code>
<div class="block">Maximum value of the token position in an indexed field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#MAX_STORED_STRING_LENGTH">MAX_STORED_STRING_LENGTH</a></span></code>
<div class="block">Maximum length string for a stored field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#MAX_TERM_LENGTH">MAX_TERM_LENGTH</a></span></code>
<div class="block">Absolute hard maximum length for a term, in bytes once
 encoded as UTF8.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#SOURCE">SOURCE</a></span></code>
<div class="block">Key for the source of a segment in the <a href="../../../../org/apache/lucene/index/SegmentInfo.html#getDiagnostics--"><code>diagnostics</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#SOURCE_ADDINDEXES_READERS">SOURCE_ADDINDEXES_READERS</a></span></code>
<div class="block">Source of a segment which results from a call to <a href="../../../../org/apache/lucene/index/IndexWriter.html#addIndexes-org.apache.lucene.index.CodecReader...-"><code>addIndexes(CodecReader...)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#SOURCE_FLUSH">SOURCE_FLUSH</a></span></code>
<div class="block">Source of a segment which results from a flush.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#SOURCE_MERGE">SOURCE_MERGE</a></span></code>
<div class="block">Source of a segment which results from a merge of other segments.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#WRITE_LOCK_NAME">WRITE_LOCK_NAME</a></span></code>
<div class="block">Name of the write lock in the index.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.lucene.util.Accountable">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.lucene.util.<a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a></h3>
<code><a href="../../../../org/apache/lucene/util/Accountable.html#NULL_ACCOUNTABLE">NULL_ACCOUNTABLE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#IndexWriter-org.apache.lucene.store.Directory-org.apache.lucene.index.IndexWriterConfig-">IndexWriter</a></span>(<a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store">Directory</a>&nbsp;d,
           <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html" title="class in org.apache.lucene.index">IndexWriterConfig</a>&nbsp;conf)</code>
<div class="block">Constructs a new IndexWriter per the settings given in <code>conf</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#addDocument-java.lang.Iterable-">addDocument</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&nbsp;doc)</code>
<div class="block">Adds a document to this index.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#addDocuments-java.lang.Iterable-">addDocuments</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&gt;&nbsp;docs)</code>
<div class="block">Atomically adds a block of documents with sequentially
 assigned document IDs, such that an external reader
 will see all or none of the documents.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#addIndexes-org.apache.lucene.index.CodecReader...-">addIndexes</a></span>(<a href="../../../../org/apache/lucene/index/CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a>...&nbsp;readers)</code>
<div class="block">Merges the provided indexes into this index.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#addIndexes-org.apache.lucene.store.Directory...-">addIndexes</a></span>(<a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store">Directory</a>...&nbsp;dirs)</code>
<div class="block">Adds all segments from an array of indexes into this index.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#advanceSegmentInfosVersion-long-">advanceSegmentInfosVersion</a></span>(long&nbsp;newVersion)</code>
<div class="block">If <a href="../../../../org/apache/lucene/index/SegmentInfos.html#getVersion--"><code>SegmentInfos.getVersion()</code></a> is below <code>newVersion</code> then update it to this value.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#close--">close</a></span>()</code>
<div class="block">Closes all open resources and releases the write lock.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--">commit</a></span>()</code>
<div class="block">Commits all pending changes (added and deleted
 documents, segment merges, added
 indexes, etc.) to the index, and syncs all referenced
 index files, such that a reader will see the changes
 and the index updates will survive an OS or machine
 crash or power loss.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#decRefDeleter-org.apache.lucene.index.SegmentInfos-">decRefDeleter</a></span>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;segmentInfos)</code>
<div class="block">Record that the files referenced by this <a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index"><code>SegmentInfos</code></a> are no longer in use.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#deleteAll--">deleteAll</a></span>()</code>
<div class="block">Delete all documents in the index.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#deleteDocuments-org.apache.lucene.search.Query...-">deleteDocuments</a></span>(<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>...&nbsp;queries)</code>
<div class="block">Deletes the document(s) matching any of the provided queries.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#deleteDocuments-org.apache.lucene.index.Term...-">deleteDocuments</a></span>(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>...&nbsp;terms)</code>
<div class="block">Deletes the document(s) containing any of the
 terms.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#deleteUnusedFiles--">deleteUnusedFiles</a></span>()</code>
<div class="block">Expert: remove any index files that are no longer
  used.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#doAfterFlush--">doAfterFlush</a></span>()</code>
<div class="block">A hook for extending classes to execute operations after pending added and
 deleted documents have been flushed to the Directory but before the change
 is committed (new segments_N file written).</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#doBeforeFlush--">doBeforeFlush</a></span>()</code>
<div class="block">A hook for extending classes to execute operations before pending added and
 deleted documents are flushed to the Directory.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#ensureOpen--">ensureOpen</a></span>()</code>
<div class="block">Used internally to throw an <a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store"><code>AlreadyClosedException</code></a> if this IndexWriter has been
 closed (<code>closed=true</code>) or is in the process of
 closing (<code>closing=true</code>).</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#ensureOpen-boolean-">ensureOpen</a></span>(boolean&nbsp;failIfClosing)</code>
<div class="block">Used internally to throw an <a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store"><code>AlreadyClosedException</code></a> if this
 IndexWriter has been closed or is in the process of closing.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#flush--">flush</a></span>()</code>
<div class="block">Moves all in-memory segments to the <a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store"><code>Directory</code></a>, but does not commit
  (fsync) them (call <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a> for that).</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#flushNextBuffer--">flushNextBuffer</a></span>()</code>
<div class="block">Expert: Flushes the next pending writer per thread buffer if available or the largest active
 non-pending writer per thread buffer in the calling thread.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMerge-int-">forceMerge</a></span>(int&nbsp;maxNumSegments)</code>
<div class="block">Forces merge policy to merge segments until there are
 <code>&lt;= maxNumSegments</code>.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMerge-int-boolean-">forceMerge</a></span>(int&nbsp;maxNumSegments,
          boolean&nbsp;doWait)</code>
<div class="block">Just like <a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMerge-int-"><code>forceMerge(int)</code></a>, except you can
  specify whether the call should block until
  all merging completes.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMergeDeletes--">forceMergeDeletes</a></span>()</code>
<div class="block">Forces merging of all segments that have deleted
  documents.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMergeDeletes-boolean-">forceMergeDeletes</a></span>(boolean&nbsp;doWait)</code>
<div class="block">Just like <a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMergeDeletes--"><code>forceMergeDeletes()</code></a>, except you can
  specify whether the call should block until the
  operation completes.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/analysis/Analyzer.html" title="class in org.apache.lucene.analysis">Analyzer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getAnalyzer--">getAnalyzer</a></span>()</code>
<div class="block">Returns the analyzer used by this index.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/LiveIndexWriterConfig.html" title="class in org.apache.lucene.index">LiveIndexWriterConfig</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getConfig--">getConfig</a></span>()</code>
<div class="block">Returns a <a href="../../../../org/apache/lucene/index/LiveIndexWriterConfig.html" title="class in org.apache.lucene.index"><code>LiveIndexWriterConfig</code></a>, which can be used to query the IndexWriter
 current settings, as well as modify "live" ones.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store">Directory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getDirectory--">getDirectory</a></span>()</code>
<div class="block">Returns the Directory used by this index.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/IndexWriter.DocStats.html" title="class in org.apache.lucene.index">IndexWriter.DocStats</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getDocStats--">getDocStats</a></span>()</code>
<div class="block">Returns accurate <a href="../../../../org/apache/lucene/index/IndexWriter.DocStats.html" title="class in org.apache.lucene.index"><code>IndexWriter.DocStats</code></a> form this writer.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getFieldNames--">getFieldNames</a></span>()</code>
<div class="block">Return an unmodifiable set of all field names as visible
 from this IndexWriter, across all segments of the index.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getFlushingBytes--">getFlushingBytes</a></span>()</code>
<div class="block">Returns the number of bytes currently being flushed</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/util/InfoStream.html" title="class in org.apache.lucene.util">InfoStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getInfoStream--">getInfoStream</a></span>()</code>
<div class="block">Returns the info stream that can be used to log messages</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getLiveCommitData--">getLiveCommitData</a></span>()</code>
<div class="block">Returns the commit user data iterable previously set with <a href="../../../../org/apache/lucene/index/IndexWriter.html#setLiveCommitData-java.lang.Iterable-"><code>setLiveCommitData(Iterable)</code></a>, or null if nothing has been set yet.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getMaxCompletedSequenceNumber--">getMaxCompletedSequenceNumber</a></span>()</code>
<div class="block">Returns the highest <a href="#sequence_number">sequence number</a> across
  all completed operations, or 0 if no operations have finished yet.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getMergingSegments--">getMergingSegments</a></span>()</code>
<div class="block">Expert: to be used by a <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a> to avoid
  selecting merges for segments already being merged.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getPendingNumDocs--">getPendingNumDocs</a></span>()</code>
<div class="block">Returns the number of documents in the index including documents are being added (i.e., reserved).</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#getTragicException--">getTragicException</a></span>()</code>
<div class="block">If this <code>IndexWriter</code> was closed as a side-effect of a tragic exception,
  e.g.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#hasDeletions--">hasDeletions</a></span>()</code>
<div class="block">Returns true if this index has deletions (including
 buffered deletions).</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#hasPendingMerges--">hasPendingMerges</a></span>()</code>
<div class="block">Expert: returns true if there are merges waiting to be scheduled.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#hasUncommittedChanges--">hasUncommittedChanges</a></span>()</code>
<div class="block">Returns true if there may be changes that have not been
  committed.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#incRefDeleter-org.apache.lucene.index.SegmentInfos-">incRefDeleter</a></span>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;segmentInfos)</code>
<div class="block">Record that the files referenced by this <a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index"><code>SegmentInfos</code></a> are still in use.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#isEnableTestPoints--">isEnableTestPoints</a></span>()</code>
<div class="block">Tests should override this to enable test points.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#isOpen--">isOpen</a></span>()</code>
<div class="block">Returns <code>true</code> if this <code>IndexWriter</code> is still open.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#maybeMerge--">maybeMerge</a></span>()</code>
<div class="block">Expert: asks the mergePolicy whether any merges are
 necessary now and if so, runs the requested merges and
 then iterate (test again if merges are needed) until no
 more merges are returned by the mergePolicy.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#merge-org.apache.lucene.index.MergePolicy.OneMerge-">merge</a></span>(<a href="../../../../org/apache/lucene/index/MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a>&nbsp;merge)</code>
<div class="block">Merges the indicated segments, replacing them in the stack with a
 single segment.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#mergeSuccess-org.apache.lucene.index.MergePolicy.OneMerge-">mergeSuccess</a></span>(<a href="../../../../org/apache/lucene/index/MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a>&nbsp;merge)</code>
<div class="block">Hook that's called when the specified merge is complete.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#numDeletedDocs-org.apache.lucene.index.SegmentCommitInfo-">numDeletedDocs</a></span>(<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info)</code>
<div class="block">Obtain the number of deleted docs for a pooled reader.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#numDeletesToMerge-org.apache.lucene.index.SegmentCommitInfo-">numDeletesToMerge</a></span>(<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info)</code>
<div class="block">Returns the number of deletes a merge would claim back if the given segment is merged.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#numRamDocs--">numRamDocs</a></span>()</code>
<div class="block">Expert:  Return the number of documents currently
  buffered in RAM.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#onTragicEvent-java.lang.Throwable-java.lang.String-">onTragicEvent</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;tragedy,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;location)</code>
<div class="block">This method should be called on a tragic event ie.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#prepareCommit--">prepareCommit</a></span>()</code>
<div class="block">Expert: prepare for commit.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#ramBytesUsed--">ramBytesUsed</a></span>()</code>
<div class="block">Return the memory usage of this object in bytes.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#rollback--">rollback</a></span>()</code>
<div class="block">Close the <code>IndexWriter</code> without committing
 any changes that have occurred since the last commit
 (or since it was opened, if commit hasn't been called).</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#setLiveCommitData-java.lang.Iterable-">setLiveCommitData</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;commitUserData)</code>
<div class="block">Sets the iterator to provide the commit user data map at commit time.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#setLiveCommitData-java.lang.Iterable-boolean-">setLiveCommitData</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;commitUserData,
                 boolean&nbsp;doIncrementVersion)</code>
<div class="block">Sets the commit user data iterator, controlling whether to advance the <a href="../../../../org/apache/lucene/index/SegmentInfos.html#getVersion--"><code>SegmentInfos.getVersion()</code></a>.</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#softUpdateDocument-org.apache.lucene.index.Term-java.lang.Iterable-org.apache.lucene.document.Field...-">softUpdateDocument</a></span>(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&nbsp;doc,
                  <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document">Field</a>...&nbsp;softDeletes)</code>
<div class="block">Expert:
 Updates a document by first updating the document(s)
 containing <code>term</code> with the given doc-values fields
 and then adding the new document.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#softUpdateDocuments-org.apache.lucene.index.Term-java.lang.Iterable-org.apache.lucene.document.Field...-">softUpdateDocuments</a></span>(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&gt;&nbsp;docs,
                   <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document">Field</a>...&nbsp;softDeletes)</code>
<div class="block">Expert:
 Atomically updates documents matching the provided
 term with the given doc-values fields
 and adds a block of documents with sequentially
 assigned document IDs, such that an external reader
 will see all or none of the documents.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#tryDeleteDocument-org.apache.lucene.index.IndexReader-int-">tryDeleteDocument</a></span>(<a href="../../../../org/apache/lucene/index/IndexReader.html" title="class in org.apache.lucene.index">IndexReader</a>&nbsp;readerIn,
                 int&nbsp;docID)</code>
<div class="block">Expert: attempts to delete by document ID, as long as
  the provided reader is a near-real-time reader (from <a href="../../../../org/apache/lucene/index/DirectoryReader.html#open-org.apache.lucene.index.IndexWriter-"><code>DirectoryReader.open(IndexWriter)</code></a>).</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#tryUpdateDocValue-org.apache.lucene.index.IndexReader-int-org.apache.lucene.document.Field...-">tryUpdateDocValue</a></span>(<a href="../../../../org/apache/lucene/index/IndexReader.html" title="class in org.apache.lucene.index">IndexReader</a>&nbsp;readerIn,
                 int&nbsp;docID,
                 <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document">Field</a>...&nbsp;fields)</code>
<div class="block">Expert: attempts to update doc values by document ID, as long as
  the provided reader is a near-real-time reader (from <a href="../../../../org/apache/lucene/index/DirectoryReader.html#open-org.apache.lucene.index.IndexWriter-"><code>DirectoryReader.open(IndexWriter)</code></a>).</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#updateBinaryDocValue-org.apache.lucene.index.Term-java.lang.String-org.apache.lucene.util.BytesRef-">updateBinaryDocValue</a></span>(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                    <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;field,
                    <a href="../../../../org/apache/lucene/util/BytesRef.html" title="class in org.apache.lucene.util">BytesRef</a>&nbsp;value)</code>
<div class="block">Updates a document's <a href="../../../../org/apache/lucene/index/BinaryDocValues.html" title="class in org.apache.lucene.index"><code>BinaryDocValues</code></a> for <code>field</code> to the
 given <code>value</code>.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocument-org.apache.lucene.index.Term-java.lang.Iterable-">updateDocument</a></span>(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&nbsp;doc)</code>
<div class="block">Updates a document by first deleting the document(s)
 containing <code>term</code> and then adding the new
 document.</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocuments-org.apache.lucene.index.Term-java.lang.Iterable-">updateDocuments</a></span>(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;delTerm,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&gt;&nbsp;docs)</code>
<div class="block">Atomically deletes documents matching the provided
 delTerm and adds a block of documents with sequentially
 assigned document IDs, such that an external reader
 will see all or none of the documents.</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocValues-org.apache.lucene.index.Term-org.apache.lucene.document.Field...-">updateDocValues</a></span>(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
               <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document">Field</a>...&nbsp;updates)</code>
<div class="block">Updates documents' DocValues fields to the given values.</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/IndexWriter.html#updateNumericDocValue-org.apache.lucene.index.Term-java.lang.String-long-">updateNumericDocValue</a></span>(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;field,
                     long&nbsp;value)</code>
<div class="block">Updates a document's <a href="../../../../org/apache/lucene/index/NumericDocValues.html" title="class in org.apache.lucene.index"><code>NumericDocValues</code></a> for <code>field</code> to the
 given <code>value</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.lucene.util.Accountable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.lucene.util.<a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a></h3>
<code><a href="../../../../org/apache/lucene/util/Accountable.html#getChildResources--">getChildResources</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_DOCS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_DOCS</h4>
<pre>public static final&nbsp;int MAX_DOCS</pre>
<div class="block">Hard limit on maximum number of documents that may be added to the
  index.  If you try to add more than this you'll hit <code>IllegalArgumentException</code>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.IndexWriter.MAX_DOCS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_POSITION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_POSITION</h4>
<pre>public static final&nbsp;int MAX_POSITION</pre>
<div class="block">Maximum value of the token position in an indexed field.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.IndexWriter.MAX_POSITION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="WRITE_LOCK_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WRITE_LOCK_NAME</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> WRITE_LOCK_NAME</pre>
<div class="block">Name of the write lock in the index.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.IndexWriter.WRITE_LOCK_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SOURCE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SOURCE</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> SOURCE</pre>
<div class="block">Key for the source of a segment in the <a href="../../../../org/apache/lucene/index/SegmentInfo.html#getDiagnostics--"><code>diagnostics</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.IndexWriter.SOURCE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SOURCE_MERGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SOURCE_MERGE</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> SOURCE_MERGE</pre>
<div class="block">Source of a segment which results from a merge of other segments.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.IndexWriter.SOURCE_MERGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SOURCE_FLUSH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SOURCE_FLUSH</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> SOURCE_FLUSH</pre>
<div class="block">Source of a segment which results from a flush.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.IndexWriter.SOURCE_FLUSH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SOURCE_ADDINDEXES_READERS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SOURCE_ADDINDEXES_READERS</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> SOURCE_ADDINDEXES_READERS</pre>
<div class="block">Source of a segment which results from a call to <a href="../../../../org/apache/lucene/index/IndexWriter.html#addIndexes-org.apache.lucene.index.CodecReader...-"><code>addIndexes(CodecReader...)</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.IndexWriter.SOURCE_ADDINDEXES_READERS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_TERM_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_TERM_LENGTH</h4>
<pre>public static final&nbsp;int MAX_TERM_LENGTH</pre>
<div class="block">Absolute hard maximum length for a term, in bytes once
 encoded as UTF8.  If a term arrives from the analyzer
 longer than this length, an
 <code>IllegalArgumentException</code>  is thrown
 and a message is printed to infoStream, if set (see <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html#setInfoStream-org.apache.lucene.util.InfoStream-"><code>IndexWriterConfig.setInfoStream(InfoStream)</code></a>).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.lucene.index.IndexWriter.MAX_TERM_LENGTH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_STORED_STRING_LENGTH">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MAX_STORED_STRING_LENGTH</h4>
<pre>public static final&nbsp;int MAX_STORED_STRING_LENGTH</pre>
<div class="block">Maximum length string for a stored field.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="IndexWriter-org.apache.lucene.store.Directory-org.apache.lucene.index.IndexWriterConfig-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IndexWriter</h4>
<pre>public&nbsp;IndexWriter(<a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store">Directory</a>&nbsp;d,
                   <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html" title="class in org.apache.lucene.index">IndexWriterConfig</a>&nbsp;conf)
            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Constructs a new IndexWriter per the settings given in <code>conf</code>.
 If you want to make "live" changes to this writer instance, use
 <a href="../../../../org/apache/lucene/index/IndexWriter.html#getConfig--"><code>getConfig()</code></a>.
 
 <p>
 <b>NOTE:</b> after ths writer is created, the given configuration instance
 cannot be passed to another writer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>d</code> - the index directory. The index is either created or appended
          according <code>conf.getOpenMode()</code>.</dd>
<dd><code>conf</code> - the configuration settings according to which IndexWriter should
          be initialized.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the directory cannot be read/written to, or if it does not
           exist and <code>conf.getOpenMode()</code> is
           <code>OpenMode.APPEND</code> or if there is any other low-level
           IO error</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="ramBytesUsed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ramBytesUsed</h4>
<pre>public final&nbsp;long&nbsp;ramBytesUsed()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/lucene/util/Accountable.html#ramBytesUsed--">Accountable</a></code></span></div>
<div class="block">Return the memory usage of this object in bytes. Negative values are illegal.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/util/Accountable.html#ramBytesUsed--">ramBytesUsed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a></code></dd>
</dl>
</li>
</ul>
<a name="getFlushingBytes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFlushingBytes</h4>
<pre>public final&nbsp;long&nbsp;getFlushingBytes()</pre>
<div class="block">Returns the number of bytes currently being flushed</div>
</li>
</ul>
<a name="numDeletedDocs-org.apache.lucene.index.SegmentCommitInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numDeletedDocs</h4>
<pre>public&nbsp;int&nbsp;numDeletedDocs(<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info)</pre>
<div class="block">Obtain the number of deleted docs for a pooled reader.
 If the reader isn't being pooled, the segmentInfo's 
 delCount is returned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html#numDeletedDocs-org.apache.lucene.index.SegmentCommitInfo-">numDeletedDocs</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a></code></dd>
</dl>
</li>
</ul>
<a name="ensureOpen-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureOpen</h4>
<pre>protected final&nbsp;void&nbsp;ensureOpen(boolean&nbsp;failIfClosing)
                         throws <a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></pre>
<div class="block">Used internally to throw an <a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store"><code>AlreadyClosedException</code></a> if this
 IndexWriter has been closed or is in the process of closing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>failIfClosing</code> - if true, also fail when <code>IndexWriter</code> is in the process of
          closing (<code>closing=true</code>) but not yet done closing (
          <code>closed=false</code>)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if this IndexWriter is closed or in the process of closing</dd>
</dl>
</li>
</ul>
<a name="ensureOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureOpen</h4>
<pre>protected final&nbsp;void&nbsp;ensureOpen()
                         throws <a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></pre>
<div class="block">Used internally to throw an <a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store"><code>AlreadyClosedException</code></a> if this IndexWriter has been
 closed (<code>closed=true</code>) or is in the process of
 closing (<code>closing=true</code>).
 <p>
 Calls <a href="../../../../org/apache/lucene/index/IndexWriter.html#ensureOpen-boolean-"><code>ensureOpen(true)</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if this IndexWriter is closed</dd>
</dl>
</li>
</ul>
<a name="getConfig--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfig</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/LiveIndexWriterConfig.html" title="class in org.apache.lucene.index">LiveIndexWriterConfig</a>&nbsp;getConfig()</pre>
<div class="block">Returns a <a href="../../../../org/apache/lucene/index/LiveIndexWriterConfig.html" title="class in org.apache.lucene.index"><code>LiveIndexWriterConfig</code></a>, which can be used to query the IndexWriter
 current settings, as well as modify "live" ones.</div>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Closes all open resources and releases the write lock.

 If <a href="../../../../org/apache/lucene/index/LiveIndexWriterConfig.html#commitOnClose"><code>LiveIndexWriterConfig.commitOnClose</code></a> is <code>true</code>,
 this will attempt to gracefully shut down by writing any
 changes, waiting for any running merges, committing, and closing.
 In this case, note that:
 <ul>
   <li>If you called prepareCommit but failed to call commit, this
       method will throw <code>IllegalStateException</code> and the <code>IndexWriter</code>
       will not be closed.</li>
   <li>If this method throws any other exception, the <code>IndexWriter</code>
       will be closed, but changes may have been lost.</li>
 </ul>

 <p>
 Note that this may be a costly
 operation, so, try to re-use a single writer instead of
 closing and opening a new one.  See <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a> for
 caveats about write caching done by some IO devices.

 <p><b>NOTE</b>: You must ensure no other threads are still making
 changes at the same time that this method is invoked.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true#close--" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDirectory</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store">Directory</a>&nbsp;getDirectory()</pre>
<div class="block">Returns the Directory used by this index.</div>
</li>
</ul>
<a name="getInfoStream--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInfoStream</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/util/InfoStream.html" title="class in org.apache.lucene.util">InfoStream</a>&nbsp;getInfoStream()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html#getInfoStream--">MergePolicy.MergeContext</a></code></span></div>
<div class="block">Returns the info stream that can be used to log messages</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html#getInfoStream--">getInfoStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a></code></dd>
</dl>
</li>
</ul>
<a name="getAnalyzer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnalyzer</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/analysis/Analyzer.html" title="class in org.apache.lucene.analysis">Analyzer</a>&nbsp;getAnalyzer()</pre>
<div class="block">Returns the analyzer used by this index.</div>
</li>
</ul>
<a name="advanceSegmentInfosVersion-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>advanceSegmentInfosVersion</h4>
<pre>public&nbsp;void&nbsp;advanceSegmentInfosVersion(long&nbsp;newVersion)</pre>
<div class="block">If <a href="../../../../org/apache/lucene/index/SegmentInfos.html#getVersion--"><code>SegmentInfos.getVersion()</code></a> is below <code>newVersion</code> then update it to this value.</div>
<dl>
<dt><span class="simpleTagLabel">NOTE: This API is for internal purposes only and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="hasDeletions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasDeletions</h4>
<pre>public&nbsp;boolean&nbsp;hasDeletions()</pre>
<div class="block">Returns true if this index has deletions (including
 buffered deletions).  Note that this will return true
 if there are buffered Term/Query deletions, even if it
 turns out those buffered deletions don't match any
 documents.</div>
</li>
</ul>
<a name="addDocument-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDocument</h4>
<pre>public&nbsp;long&nbsp;addDocument(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&nbsp;doc)
                 throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Adds a document to this index.

 <p> Note that if an Exception is hit (for example disk full)
 then the index will be consistent, but this document
 may not have been added.  Furthermore, it's possible
 the index will have one segment in non-compound format
 even when using compound files (when a merge has
 partially succeeded).</p>

 <p> This method periodically flushes pending documents
 to the Directory (see <a href="#flush">above</a>), and
 also periodically triggers segment merges in the index
 according to the <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a> in use.</p>

 <p>Merges temporarily consume space in the
 directory. The amount of space required is up to 1X the
 size of all segments being merged, when no
 readers/searchers are open against the index, and up to
 2X the size of all segments being merged when
 readers/searchers are open against the index (see
 <a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMerge-int-"><code>forceMerge(int)</code></a> for details). The sequence of
 primitive merge operations performed is governed by the
 merge policy.

 <p>Note that each term in the document can be no longer
 than <a href="../../../../org/apache/lucene/index/IndexWriter.html#MAX_TERM_LENGTH"><code>MAX_TERM_LENGTH</code></a> in bytes, otherwise an
 IllegalArgumentException will be thrown.</p>

 <p>Note that it's possible to create an invalid Unicode
 string in java if a UTF16 surrogate pair is malformed.
 In this case, the invalid characters are silently
 replaced with the Unicode replacement character
 U+FFFD.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
</dl>
</li>
</ul>
<a name="addDocuments-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDocuments</h4>
<pre>public&nbsp;long&nbsp;addDocuments(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&gt;&nbsp;docs)
                  throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Atomically adds a block of documents with sequentially
 assigned document IDs, such that an external reader
 will see all or none of the documents.

 <p><b>WARNING</b>: the index does not currently record
 which documents were added as a block.  Today this is
 fine, because merging will preserve a block. The order of
 documents within a segment will be preserved, even when child
 documents within a block are deleted. Most search features
 (like result grouping and block joining) require you to
 mark documents; when these documents are deleted these
 search features will not work as expected. Obviously adding
 documents to an existing block will require you the reindex
 the entire block.

 <p>However it's possible that in the future Lucene may
 merge more aggressively re-order documents (for example,
 perhaps to obtain better index compression), in which case
 you may need to fully re-index your documents at that time.

 <p>See <a href="../../../../org/apache/lucene/index/IndexWriter.html#addDocument-java.lang.Iterable-"><code>addDocument(Iterable)</code></a> for details on
 index and IndexWriter state after an Exception, and
 flushing/merging temporary free space requirements.</p>

 <p><b>NOTE</b>: tools that do offline splitting of an index
 (for example, IndexSplitter in contrib) or
 re-sorting of documents (for example, IndexSorter in
 contrib) are not aware of these atomically added documents
 and will likely break them up.  Use such tools at your
 own risk!</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="updateDocuments-org.apache.lucene.index.Term-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateDocuments</h4>
<pre>public&nbsp;long&nbsp;updateDocuments(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;delTerm,
                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&gt;&nbsp;docs)
                     throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Atomically deletes documents matching the provided
 delTerm and adds a block of documents with sequentially
 assigned document IDs, such that an external reader
 will see all or none of the documents. 

 See <a href="../../../../org/apache/lucene/index/IndexWriter.html#addDocuments-java.lang.Iterable-"><code>addDocuments(Iterable)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="softUpdateDocuments-org.apache.lucene.index.Term-java.lang.Iterable-org.apache.lucene.document.Field...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>softUpdateDocuments</h4>
<pre>public&nbsp;long&nbsp;softUpdateDocuments(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                                <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&gt;&nbsp;docs,
                                <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document">Field</a>...&nbsp;softDeletes)
                         throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Expert:
 Atomically updates documents matching the provided
 term with the given doc-values fields
 and adds a block of documents with sequentially
 assigned document IDs, such that an external reader
 will see all or none of the documents.

 One use of this API is to retain older versions of
 documents instead of replacing them. The existing
 documents can be updated to reflect they are no
 longer current while atomically adding new documents
 at the same time.

 In contrast to <a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocuments-org.apache.lucene.index.Term-java.lang.Iterable-"><code>updateDocuments(Term, Iterable)</code></a>
 this method will not delete documents in the index
 matching the given term but instead update them with
 the given doc-values fields which can be used as a
 soft-delete mechanism.

 See <a href="../../../../org/apache/lucene/index/IndexWriter.html#addDocuments-java.lang.Iterable-"><code>addDocuments(Iterable)</code></a>
 and <a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocuments-org.apache.lucene.index.Term-java.lang.Iterable-"><code>updateDocuments(Term, Iterable)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="tryDeleteDocument-org.apache.lucene.index.IndexReader-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryDeleteDocument</h4>
<pre>public&nbsp;long&nbsp;tryDeleteDocument(<a href="../../../../org/apache/lucene/index/IndexReader.html" title="class in org.apache.lucene.index">IndexReader</a>&nbsp;readerIn,
                              int&nbsp;docID)
                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Expert: attempts to delete by document ID, as long as
  the provided reader is a near-real-time reader (from <a href="../../../../org/apache/lucene/index/DirectoryReader.html#open-org.apache.lucene.index.IndexWriter-"><code>DirectoryReader.open(IndexWriter)</code></a>).  If the
  provided reader is an NRT reader obtained from this
  writer, and its segment has not been merged away, then
  the delete succeeds and this method returns a valid (&gt; 0) sequence
  number; else, it returns -1 and the caller must then
  separately delete by Term or Query.

  <b>NOTE</b>: this method can only delete documents
  visible to the currently open NRT reader.  If you need
  to delete documents indexed after opening the NRT
  reader you must use <a href="../../../../org/apache/lucene/index/IndexWriter.html#deleteDocuments-org.apache.lucene.index.Term...-"><code>deleteDocuments(Term...)</code></a>).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="tryUpdateDocValue-org.apache.lucene.index.IndexReader-int-org.apache.lucene.document.Field...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryUpdateDocValue</h4>
<pre>public&nbsp;long&nbsp;tryUpdateDocValue(<a href="../../../../org/apache/lucene/index/IndexReader.html" title="class in org.apache.lucene.index">IndexReader</a>&nbsp;readerIn,
                              int&nbsp;docID,
                              <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document">Field</a>...&nbsp;fields)
                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Expert: attempts to update doc values by document ID, as long as
  the provided reader is a near-real-time reader (from <a href="../../../../org/apache/lucene/index/DirectoryReader.html#open-org.apache.lucene.index.IndexWriter-"><code>DirectoryReader.open(IndexWriter)</code></a>).  If the
  provided reader is an NRT reader obtained from this
  writer, and its segment has not been merged away, then
  the update succeeds and this method returns a valid (&gt; 0) sequence
  number; else, it returns -1 and the caller must then
  either retry the update and resolve the document again.
  If a doc values fields data is <code>null</code> the existing
  value is removed from all documents matching the term. This can be used
  to un-delete a soft-deleted document since this method will apply the
  field update even if the document is marked as deleted.

  <b>NOTE</b>: this method can only updates documents
  visible to the currently open NRT reader.  If you need
  to update documents indexed after opening the NRT
  reader you must use <a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocValues-org.apache.lucene.index.Term-org.apache.lucene.document.Field...-"><code>updateDocValues(Term, Field...)</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="deleteDocuments-org.apache.lucene.index.Term...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteDocuments</h4>
<pre>public&nbsp;long&nbsp;deleteDocuments(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>...&nbsp;terms)
                     throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Deletes the document(s) containing any of the
 terms. All given deletes are applied and flushed atomically
 at the same time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>terms</code> - array of terms to identify the documents
 to be deleted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
</dl>
</li>
</ul>
<a name="deleteDocuments-org.apache.lucene.search.Query...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteDocuments</h4>
<pre>public&nbsp;long&nbsp;deleteDocuments(<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>...&nbsp;queries)
                     throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Deletes the document(s) matching any of the provided queries.
 All given deletes are applied and flushed atomically at the same time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queries</code> - array of queries to identify the documents
 to be deleted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
</dl>
</li>
</ul>
<a name="updateDocument-org.apache.lucene.index.Term-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateDocument</h4>
<pre>public&nbsp;long&nbsp;updateDocument(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&nbsp;doc)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Updates a document by first deleting the document(s)
 containing <code>term</code> and then adding the new
 document.  The delete and then add are atomic as seen
 by a reader on the same index (flush may happen only after
 the add).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>term</code> - the term to identify the document(s) to be
 deleted</dd>
<dd><code>doc</code> - the document to be added</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
</dl>
</li>
</ul>
<a name="softUpdateDocument-org.apache.lucene.index.Term-java.lang.Iterable-org.apache.lucene.document.Field...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>softUpdateDocument</h4>
<pre>public&nbsp;long&nbsp;softUpdateDocument(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                               <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../../../org/apache/lucene/index/IndexableField.html" title="interface in org.apache.lucene.index">IndexableField</a>&gt;&nbsp;doc,
                               <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document">Field</a>...&nbsp;softDeletes)
                        throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Expert:
 Updates a document by first updating the document(s)
 containing <code>term</code> with the given doc-values fields
 and then adding the new document.  The doc-values update and
 then add are atomic as seen by a reader on the same index
 (flush may happen only after the add).

 One use of this API is to retain older versions of
 documents instead of replacing them. The existing
 documents can be updated to reflect they are no
 longer current while atomically adding new documents
 at the same time.

 In contrast to <a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocument-org.apache.lucene.index.Term-java.lang.Iterable-"><code>updateDocument(Term, Iterable)</code></a>
 this method will not delete documents in the index
 matching the given term but instead update them with
 the given doc-values fields which can be used as a
 soft-delete mechanism.

 See <a href="../../../../org/apache/lucene/index/IndexWriter.html#addDocuments-java.lang.Iterable-"><code>addDocuments(Iterable)</code></a>
 and <a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocuments-org.apache.lucene.index.Term-java.lang.Iterable-"><code>updateDocuments(Term, Iterable)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="updateNumericDocValue-org.apache.lucene.index.Term-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateNumericDocValue</h4>
<pre>public&nbsp;long&nbsp;updateNumericDocValue(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;field,
                                  long&nbsp;value)
                           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Updates a document's <a href="../../../../org/apache/lucene/index/NumericDocValues.html" title="class in org.apache.lucene.index"><code>NumericDocValues</code></a> for <code>field</code> to the
 given <code>value</code>. You can only update fields that already exist in
 the index, not add new fields through this method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>term</code> - the term to identify the document(s) to be updated</dd>
<dd><code>field</code> - field name of the <a href="../../../../org/apache/lucene/index/NumericDocValues.html" title="class in org.apache.lucene.index"><code>NumericDocValues</code></a> field</dd>
<dd><code>value</code> - new value for the field</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
</dl>
</li>
</ul>
<a name="updateBinaryDocValue-org.apache.lucene.index.Term-java.lang.String-org.apache.lucene.util.BytesRef-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateBinaryDocValue</h4>
<pre>public&nbsp;long&nbsp;updateBinaryDocValue(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                                 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;field,
                                 <a href="../../../../org/apache/lucene/util/BytesRef.html" title="class in org.apache.lucene.util">BytesRef</a>&nbsp;value)
                          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Updates a document's <a href="../../../../org/apache/lucene/index/BinaryDocValues.html" title="class in org.apache.lucene.index"><code>BinaryDocValues</code></a> for <code>field</code> to the
 given <code>value</code>. You can only update fields that already exist in
 the index, not add new fields through this method.
 
 <p>
 <b>NOTE:</b> this method currently replaces the existing value of all
 affected documents with the new value.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>term</code> - the term to identify the document(s) to be updated</dd>
<dd><code>field</code> - field name of the <a href="../../../../org/apache/lucene/index/BinaryDocValues.html" title="class in org.apache.lucene.index"><code>BinaryDocValues</code></a> field</dd>
<dd><code>value</code> - new value for the field</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
</dl>
</li>
</ul>
<a name="updateDocValues-org.apache.lucene.index.Term-org.apache.lucene.document.Field...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateDocValues</h4>
<pre>public&nbsp;long&nbsp;updateDocValues(<a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index">Term</a>&nbsp;term,
                            <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document">Field</a>...&nbsp;updates)
                     throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Updates documents' DocValues fields to the given values. Each field update
 is applied to the set of documents that are associated with the
 <a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index"><code>Term</code></a> to the same value. All updates are atomically applied and
 flushed together. If a doc values fields data is <code>null</code> the existing
 value is removed from all documents matching the term.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>updates</code> - the updates to apply</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
</dl>
</li>
</ul>
<a name="getFieldNames--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFieldNames</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getFieldNames()</pre>
<div class="block">Return an unmodifiable set of all field names as visible
 from this IndexWriter, across all segments of the index.
 Useful for knowing which fields exist, before <a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocValues-org.apache.lucene.index.Term-org.apache.lucene.document.Field...-"><code>updateDocValues(Term, Field...)</code></a> is
 attempted. We could phase out this method if
 <a href="../../../../org/apache/lucene/index/IndexWriter.html#updateDocValues-org.apache.lucene.index.Term-org.apache.lucene.document.Field...-"><code>updateDocValues(Term, Field...)</code></a> could create the non-existent
 docValues fields as necessary, instead of throwing
 IllegalArgumentException for attempts to update non-existent
 docValues fields.</div>
<dl>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
<dt><span class="simpleTagLabel">NOTE: This API is for internal purposes only and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="forceMerge-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceMerge</h4>
<pre>public&nbsp;void&nbsp;forceMerge(int&nbsp;maxNumSegments)
                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Forces merge policy to merge segments until there are
 <code>&lt;= maxNumSegments</code>.  The actual merges to be
 executed are determined by the <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a>.

 <p>This is a horribly costly operation, especially when
 you pass a small <code>maxNumSegments</code>; usually you
 should only call this if the index is static (will no
 longer be changed).</p>

 <p>Note that this requires free space that is proportional
 to the size of the index in your Directory: 2X if you are
 not using compound file format, and 3X if you are.
 For example, if your index size is 10 MB then you need
 an additional 20 MB free for this to complete (30 MB if
 you're using compound file format). This is also affected
 by the <a href="../../../../org/apache/lucene/codecs/Codec.html" title="class in org.apache.lucene.codecs"><code>Codec</code></a> that is used to execute the merge,
 and may result in even a bigger index. Also, it's best
 to call <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a> afterwards, to allow IndexWriter
 to free up disk space.</p>

 <p>If some but not all readers re-open while merging
 is underway, this will cause <code>&gt; 2X</code> temporary
 space to be consumed as those new readers will then
 hold open the temporary segments at that time.  It is
 best not to re-open readers while merging is running.</p>

 <p>The actual temporary usage could be much less than
 these figures (it depends on many factors).</p>

 <p>In general, once this completes, the total size of the
 index will be less than the size of the starting index.
 It could be quite a bit smaller (if there were many
 pending deletes) or just slightly smaller.</p>

 <p>If an Exception is hit, for example
 due to disk full, the index will not be corrupted and no
 documents will be lost.  However, it may have
 been partially merged (some segments were merged but
 not all), and it's possible that one of the segments in
 the index will be in non-compound format even when
 using compound file format.  This will occur when the
 Exception is hit during conversion of the segment into
 compound format.</p>

 <p>This call will merge those segments present in
 the index when the call started.  If other threads are
 still adding documents and flushing segments, those
 newly created segments will not be merged unless you
 call forceMerge again.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxNumSegments</code> - maximum number of segments left
 in the index after merging finishes</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/MergePolicy.html#findMerges-org.apache.lucene.index.MergeTrigger-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-"><code>MergePolicy.findMerges(org.apache.lucene.index.MergeTrigger, org.apache.lucene.index.SegmentInfos, org.apache.lucene.index.MergePolicy.MergeContext)</code></a></dd>
</dl>
</li>
</ul>
<a name="forceMerge-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceMerge</h4>
<pre>public&nbsp;void&nbsp;forceMerge(int&nbsp;maxNumSegments,
                       boolean&nbsp;doWait)
                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Just like <a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMerge-int-"><code>forceMerge(int)</code></a>, except you can
  specify whether the call should block until
  all merging completes.  This is only meaningful with a
  <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a> that is able to run merges in
  background threads.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="forceMergeDeletes-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceMergeDeletes</h4>
<pre>public&nbsp;void&nbsp;forceMergeDeletes(boolean&nbsp;doWait)
                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Just like <a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMergeDeletes--"><code>forceMergeDeletes()</code></a>, except you can
  specify whether the call should block until the
  operation completes.  This is only meaningful with a
  <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a> that is able to run merges in
  background threads.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="forceMergeDeletes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceMergeDeletes</h4>
<pre>public&nbsp;void&nbsp;forceMergeDeletes()
                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Forces merging of all segments that have deleted
  documents.  The actual merges to be executed are
  determined by the <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a>.  For example,
  the default <a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index"><code>TieredMergePolicy</code></a> will only
  pick a segment if the percentage of
  deleted docs is over 10%.

  <p>This is often a horribly costly operation; rarely
  is it warranted.</p>

  <p>To see how
  many deletions you have pending in your index, call
  <a href="../../../../org/apache/lucene/index/IndexReader.html#numDeletedDocs--"><code>IndexReader.numDeletedDocs()</code></a>.</p>

  <p><b>NOTE</b>: this method first flushes a new
  segment (if there are indexed documents), and applies
  all buffered deletes.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="maybeMerge--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeMerge</h4>
<pre>public final&nbsp;void&nbsp;maybeMerge()
                      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Expert: asks the mergePolicy whether any merges are
 necessary now and if so, runs the requested merges and
 then iterate (test again if merges are needed) until no
 more merges are returned by the mergePolicy.

 Explicit calls to maybeMerge() are usually not
 necessary. The most common case is when merge policy
 parameters have changed.
 
 This method will call the <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a> with
 <a href="../../../../org/apache/lucene/index/MergeTrigger.html#EXPLICIT"><code>MergeTrigger.EXPLICIT</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMergingSegments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMergingSegments</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&gt;&nbsp;getMergingSegments()</pre>
<div class="block">Expert: to be used by a <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a> to avoid
  selecting merges for segments already being merged.
  The returned collection is not cloned, and thus is
  only safe to access if you hold IndexWriter's lock
  (which you do when IndexWriter invokes the
  MergePolicy).

  <p>The Set is unmodifiable.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html#getMergingSegments--">getMergingSegments</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a></code></dd>
</dl>
</li>
</ul>
<a name="hasPendingMerges--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasPendingMerges</h4>
<pre>public&nbsp;boolean&nbsp;hasPendingMerges()</pre>
<div class="block">Expert: returns true if there are merges waiting to be scheduled.</div>
<dl>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="rollback--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback()
              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Close the <code>IndexWriter</code> without committing
 any changes that have occurred since the last commit
 (or since it was opened, if commit hasn't been called).
 This removes any temporary files that had been created,
 after which the state of the index will be the same as
 it was when commit() was last called or when this
 writer was first opened.  This also clears a previous
 call to <a href="../../../../org/apache/lucene/index/IndexWriter.html#prepareCommit--"><code>prepareCommit()</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/TwoPhaseCommit.html#rollback--">rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/index/TwoPhaseCommit.html" title="interface in org.apache.lucene.index">TwoPhaseCommit</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
</dl>
</li>
</ul>
<a name="deleteAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAll</h4>
<pre>public&nbsp;long&nbsp;deleteAll()
               throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Delete all documents in the index.
 
 <p>
 This method will drop all buffered documents and will remove all segments
 from the index. This change will not be visible until a <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a>
 has been called. This method can be rolled back using <a href="../../../../org/apache/lucene/index/IndexWriter.html#rollback--"><code>rollback()</code></a>.
 </p>
 
 <p>
 NOTE: this method is much faster than using deleteDocuments( new
 MatchAllDocsQuery() ). Yet, this method also has different semantics
 compared to <a href="../../../../org/apache/lucene/index/IndexWriter.html#deleteDocuments-org.apache.lucene.search.Query...-"><code>deleteDocuments(Query...)</code></a> since internal
 data-structures are cleared as well as all segment information is
 forcefully dropped anti-viral semantics like omitting norms are reset or
 doc value types are cleared. Essentially a call to <a href="../../../../org/apache/lucene/index/IndexWriter.html#deleteAll--"><code>deleteAll()</code></a> is
 equivalent to creating a new <a href="../../../../org/apache/lucene/index/IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> with
 <a href="../../../../org/apache/lucene/index/IndexWriterConfig.OpenMode.html#CREATE"><code>IndexWriterConfig.OpenMode.CREATE</code></a> which a delete query only marks documents as
 deleted.
 </p>
 
 <p>
 NOTE: this method will forcefully abort all merges in progress. If other
 threads are running <a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMerge-int-"><code>forceMerge(int)</code></a>, <a href="../../../../org/apache/lucene/index/IndexWriter.html#addIndexes-org.apache.lucene.index.CodecReader...-"><code>addIndexes(CodecReader[])</code></a>
 or <a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMergeDeletes-boolean-"><code>forceMergeDeletes(boolean)</code></a> methods, they may receive
 <a href="../../../../org/apache/lucene/index/MergePolicy.MergeAbortedException.html" title="class in org.apache.lucene.index"><code>MergePolicy.MergeAbortedException</code></a>s.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="addIndexes-org.apache.lucene.store.Directory...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addIndexes</h4>
<pre>public&nbsp;long&nbsp;addIndexes(<a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store">Directory</a>...&nbsp;dirs)
                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Adds all segments from an array of indexes into this index.

 <p>This may be used to parallelize batch indexing. A large document
 collection can be broken into sub-collections. Each sub-collection can be
 indexed in parallel, on a different thread, process or machine. The
 complete index can then be created by merging sub-collection indexes
 with this method.

 <p>
 <b>NOTE:</b> this method acquires the write lock in
 each directory, to ensure that no <code>IndexWriter</code>
 is currently open or tries to open while this is
 running.

 <p>This method is transactional in how Exceptions are
 handled: it does not commit a new segments_N file until
 all indexes are added.  This means if an Exception
 occurs (for example disk full), then either no indexes
 will have been added or they all will have been.

 <p>Note that this requires temporary free space in the
 <a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store"><code>Directory</code></a> up to 2X the sum of all input indexes
 (including the starting index). If readers/searchers
 are open against the starting index, then temporary
 free space required will be higher by the size of the
 starting index (see <a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMerge-int-"><code>forceMerge(int)</code></a> for details).

 <p>This requires this index not be among those to be added.

 <p>All added indexes must have been created by the same
 Lucene version as this index.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if addIndexes would cause
   the index to exceed <a href="../../../../org/apache/lucene/index/IndexWriter.html#MAX_DOCS"><code>MAX_DOCS</code></a>, or if the indoming
   index sort does not match this index's index sort</dd>
</dl>
</li>
</ul>
<a name="addIndexes-org.apache.lucene.index.CodecReader...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addIndexes</h4>
<pre>public&nbsp;long&nbsp;addIndexes(<a href="../../../../org/apache/lucene/index/CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a>...&nbsp;readers)
                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Merges the provided indexes into this index.
 
 <p>
 The provided IndexReaders are not closed.
 
 <p>
 See <a href="../../../../org/apache/lucene/index/IndexWriter.html#addIndexes-org.apache.lucene.store.Directory...-"><code>addIndexes(org.apache.lucene.store.Directory...)</code></a> for details on transactional semantics, temporary
 free space required in the Directory, and non-CFS segments on an Exception.
 
 <p>
 <b>NOTE:</b> empty segments are dropped by this method and not added to this
 index.
 
 <p>
 <b>NOTE:</b> this merges all given <a href="../../../../org/apache/lucene/index/LeafReader.html" title="class in org.apache.lucene.index"><code>LeafReader</code></a>s in one
 merge. If you intend to merge a large number of readers, it may be better
 to call this method multiple times, each time with a small set of readers.
 In principle, if you use a merge policy with a <code>mergeFactor</code> or
 <code>maxMergeAtOnce</code> parameter, you should pass that many readers in one
 call.
 
 <p>
 <b>NOTE:</b> this method does not call or make use of the <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a>,
 so any custom bandwidth throttling is at the moment ignored.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 for this operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - if the index is corrupt</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a low-level IO error</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if addIndexes would cause the index to exceed <a href="../../../../org/apache/lucene/index/IndexWriter.html#MAX_DOCS"><code>MAX_DOCS</code></a></dd>
</dl>
</li>
</ul>
<a name="doAfterFlush--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doAfterFlush</h4>
<pre>protected&nbsp;void&nbsp;doAfterFlush()
                     throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">A hook for extending classes to execute operations after pending added and
 deleted documents have been flushed to the Directory but before the change
 is committed (new segments_N file written).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="doBeforeFlush--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doBeforeFlush</h4>
<pre>protected&nbsp;void&nbsp;doBeforeFlush()
                      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">A hook for extending classes to execute operations before pending added and
 deleted documents are flushed to the Directory.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="prepareCommit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareCommit</h4>
<pre>public final&nbsp;long&nbsp;prepareCommit()
                         throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><p>Expert: prepare for commit.  This does the
  first phase of 2-phase commit. This method does all
  steps necessary to commit changes since this writer
  was opened: flushes pending added and deleted docs,
  syncs the index files, writes most of next segments_N
  file.  After calling this you must call either <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a> to finish the commit, or <a href="../../../../org/apache/lucene/index/IndexWriter.html#rollback--"><code>rollback()</code></a> to revert the commit and undo all changes
  done since the writer was opened.</p>

 <p>You can also just call <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a> directly
  without prepareCommit first in which case that method
  will internally call prepareCommit.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/TwoPhaseCommit.html#prepareCommit--">prepareCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/index/TwoPhaseCommit.html" title="interface in org.apache.lucene.index">TwoPhaseCommit</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 of the last operation in the commit.  All sequence numbers &lt;= this value
 will be reflected in the commit, and all others will not.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="flushNextBuffer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushNextBuffer</h4>
<pre>public final&nbsp;boolean&nbsp;flushNextBuffer()
                              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><p>Expert: Flushes the next pending writer per thread buffer if available or the largest active
 non-pending writer per thread buffer in the calling thread.
 This can be used to flush documents to disk outside of an indexing thread. In contrast to <a href="../../../../org/apache/lucene/index/IndexWriter.html#flush--"><code>flush()</code></a>
 this won't mark all currently active indexing buffers as flush-pending.

 Note: this method is best-effort and might not flush any segments to disk. If there is a full flush happening
 concurrently multiple segments might have been flushed.
 Users of this API can access the IndexWriters current memory consumption via <a href="../../../../org/apache/lucene/index/IndexWriter.html#ramBytesUsed--"><code>ramBytesUsed()</code></a>
 </p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> iff this method flushed at least on segment to disk.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="setLiveCommitData-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLiveCommitData</h4>
<pre>public final&nbsp;void&nbsp;setLiveCommitData(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;commitUserData)</pre>
<div class="block">Sets the iterator to provide the commit user data map at commit time.  Calling this method
 is considered a committable change and will be <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>committed</code></a> even if
 there are no other changes this writer. Note that you must call this method
 before <a href="../../../../org/apache/lucene/index/IndexWriter.html#prepareCommit--"><code>prepareCommit()</code></a>.  Otherwise it won't be included in the
 follow-on <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a>.
 <p>
 <b>NOTE:</b> the iterator is late-binding: it is only visited once all documents for the
 commit have been written to their segments, before the next segments_N file is written</div>
</li>
</ul>
<a name="setLiveCommitData-java.lang.Iterable-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLiveCommitData</h4>
<pre>public final&nbsp;void&nbsp;setLiveCommitData(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;commitUserData,
                                    boolean&nbsp;doIncrementVersion)</pre>
<div class="block">Sets the commit user data iterator, controlling whether to advance the <a href="../../../../org/apache/lucene/index/SegmentInfos.html#getVersion--"><code>SegmentInfos.getVersion()</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/IndexWriter.html#setLiveCommitData-java.lang.Iterable-"><code>setLiveCommitData(Iterable)</code></a></dd>
<dt><span class="simpleTagLabel">NOTE: This API is for internal purposes only and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="getLiveCommitData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLiveCommitData</h4>
<pre>public final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util">Map.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;getLiveCommitData()</pre>
<div class="block">Returns the commit user data iterable previously set with <a href="../../../../org/apache/lucene/index/IndexWriter.html#setLiveCommitData-java.lang.Iterable-"><code>setLiveCommitData(Iterable)</code></a>, or null if nothing has been set yet.</div>
</li>
</ul>
<a name="commit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public final&nbsp;long&nbsp;commit()
                  throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><p>Commits all pending changes (added and deleted
 documents, segment merges, added
 indexes, etc.) to the index, and syncs all referenced
 index files, such that a reader will see the changes
 and the index updates will survive an OS or machine
 crash or power loss.  Note that this does not wait for
 any running background merges to finish.  This may be a
 costly operation, so you should test the cost in your
 application and do it only when really necessary.</p>

 <p> Note that this operation calls Directory.sync on
 the index files.  That call should not return until the
 file contents and metadata are on stable storage.  For
 FSDirectory, this calls the OS's fsync.  But, beware:
 some hardware devices may in fact cache writes even
 during fsync, and return before the bits are actually
 on stable storage, to give the appearance of faster
 performance.  If you have such a device, and it does
 not have a battery backup (for example) then on power
 loss it may still lose data.  Lucene cannot guarantee
 consistency on such devices.  </p>

 <p> If nothing was committed, because there were no
 pending changes, this returns -1.  Otherwise, it returns
 the sequence number such that all indexing operations
 prior to this sequence will be included in the commit
 point, and all other operations will not. </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/TwoPhaseCommit.html#commit--">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/index/TwoPhaseCommit.html" title="interface in org.apache.lucene.index">TwoPhaseCommit</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#sequence_number">sequence number</a>
 of the last operation in the commit.  All sequence numbers &lt;= this value
 will be reflected in the commit, and all others will not.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/IndexWriter.html#prepareCommit--"><code>prepareCommit()</code></a></dd>
</dl>
</li>
</ul>
<a name="hasUncommittedChanges--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasUncommittedChanges</h4>
<pre>public final&nbsp;boolean&nbsp;hasUncommittedChanges()</pre>
<div class="block">Returns true if there may be changes that have not been
  committed.  There are cases where this may return true
  when there are no actual "real" changes to the index,
  for example if you've deleted by Term or Query but
  that Term or Query does not match any documents.
  Also, if a merge kicked off as a result of flushing a
  new segment during <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a>, or a concurrent
  merged finished, this method may return true right
  after you had just called <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a>.</div>
</li>
</ul>
<a name="flush--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public final&nbsp;void&nbsp;flush()
                 throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Moves all in-memory segments to the <a href="../../../../org/apache/lucene/store/Directory.html" title="class in org.apache.lucene.store"><code>Directory</code></a>, but does not commit
  (fsync) them (call <a href="../../../../org/apache/lucene/index/IndexWriter.html#commit--"><code>commit()</code></a> for that).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="numRamDocs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numRamDocs</h4>
<pre>public final&nbsp;int&nbsp;numRamDocs()</pre>
<div class="block">Expert:  Return the number of documents currently
  buffered in RAM.</div>
</li>
</ul>
<a name="merge-org.apache.lucene.index.MergePolicy.OneMerge-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre>protected&nbsp;void&nbsp;merge(<a href="../../../../org/apache/lucene/index/MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a>&nbsp;merge)
              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Merges the indicated segments, replacing them in the stack with a
 single segment.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="mergeSuccess-org.apache.lucene.index.MergePolicy.OneMerge-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeSuccess</h4>
<pre>protected&nbsp;void&nbsp;mergeSuccess(<a href="../../../../org/apache/lucene/index/MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a>&nbsp;merge)</pre>
<div class="block">Hook that's called when the specified merge is complete.</div>
</li>
</ul>
<a name="onTragicEvent-java.lang.Throwable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onTragicEvent</h4>
<pre>public&nbsp;void&nbsp;onTragicEvent(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;tragedy,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;location)</pre>
<div class="block"><p>This method should be called on a tragic event ie. if a downstream class of the writer
 hits an unrecoverable exception. This method does not rethrow the tragic event exception. 
 <p>Note: This method will not close the writer but can be called from any location without respecting any lock order</div>
<dl>
<dt><span class="simpleTagLabel">NOTE: This API is for internal purposes only and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="getTragicException--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTragicException</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;getTragicException()</pre>
<div class="block">If this <code>IndexWriter</code> was closed as a side-effect of a tragic exception,
  e.g. disk full while flushing a new segment, this returns the root cause exception.
  Otherwise (no tragic exception has occurred) it returns null.</div>
</li>
</ul>
<a name="isOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
<div class="block">Returns <code>true</code> if this <code>IndexWriter</code> is still open.</div>
</li>
</ul>
<a name="deleteUnusedFiles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUnusedFiles</h4>
<pre>public&nbsp;void&nbsp;deleteUnusedFiles()
                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Expert: remove any index files that are no longer
  used.

  <p> IndexWriter normally deletes unused files itself,
  during indexing.  However, on Windows, which disallows
  deletion of open files, if there is a reader open on
  the index then those files cannot be deleted.  This is
  fine, because IndexWriter will periodically retry
  the deletion.</p>

  <p> However, IndexWriter doesn't try that often: only
  on open, close, flushing a new segment, and finishing
  a merge.  If you don't do any of these actions with your
  IndexWriter, you'll see the unused files linger.  If
  that's a problem, call this method to delete them
  (once you've closed the open readers that were
  preventing their deletion). 
  
  <p> In addition, you can call this method to delete 
  unreferenced index commits. This might be useful if you 
  are using an <a href="../../../../org/apache/lucene/index/IndexDeletionPolicy.html" title="class in org.apache.lucene.index"><code>IndexDeletionPolicy</code></a> which holds
  onto index commits until some criteria are met, but those
  commits are no longer needed. Otherwise, those commits will
  be deleted the next time commit() is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="incRefDeleter-org.apache.lucene.index.SegmentInfos-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incRefDeleter</h4>
<pre>public&nbsp;void&nbsp;incRefDeleter(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;segmentInfos)
                   throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Record that the files referenced by this <a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index"><code>SegmentInfos</code></a> are still in use.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dt><span class="simpleTagLabel">NOTE: This API is for internal purposes only and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="decRefDeleter-org.apache.lucene.index.SegmentInfos-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decRefDeleter</h4>
<pre>public&nbsp;void&nbsp;decRefDeleter(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;segmentInfos)
                   throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Record that the files referenced by this <a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index"><code>SegmentInfos</code></a> are no longer in use.  Only call this if you are sure you previously
  called <a href="../../../../org/apache/lucene/index/IndexWriter.html#incRefDeleter-org.apache.lucene.index.SegmentInfos-"><code>incRefDeleter(org.apache.lucene.index.SegmentInfos)</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dt><span class="simpleTagLabel">NOTE: This API is for internal purposes only and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="getPendingNumDocs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingNumDocs</h4>
<pre>public&nbsp;long&nbsp;getPendingNumDocs()</pre>
<div class="block">Returns the number of documents in the index including documents are being added (i.e., reserved).</div>
<dl>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="getMaxCompletedSequenceNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxCompletedSequenceNumber</h4>
<pre>public&nbsp;long&nbsp;getMaxCompletedSequenceNumber()</pre>
<div class="block">Returns the highest <a href="#sequence_number">sequence number</a> across
  all completed operations, or 0 if no operations have finished yet.  Still
  in-flight operations (in other threads) are not counted until they finish.</div>
<dl>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="numDeletesToMerge-org.apache.lucene.index.SegmentCommitInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numDeletesToMerge</h4>
<pre>public final&nbsp;int&nbsp;numDeletesToMerge(<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info)
                            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the number of deletes a merge would claim back if the given segment is merged.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html#numDeletesToMerge-org.apache.lucene.index.SegmentCommitInfo-">numDeletesToMerge</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>info</code> - the segment to get the number of deletes for</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/MergePolicy.html#numDeletesToMerge-org.apache.lucene.index.SegmentCommitInfo-int-org.apache.lucene.util.IOSupplier-"><code>MergePolicy.numDeletesToMerge(SegmentCommitInfo, int, org.apache.lucene.util.IOSupplier)</code></a></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="isEnableTestPoints--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnableTestPoints</h4>
<pre>protected&nbsp;boolean&nbsp;isEnableTestPoints()</pre>
<div class="block">Tests should override this to enable test points. Default is <code>false</code>.</div>
</li>
</ul>
<a name="getDocStats--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDocStats</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/IndexWriter.DocStats.html" title="class in org.apache.lucene.index">IndexWriter.DocStats</a>&nbsp;getDocStats()</pre>
<div class="block">Returns accurate <a href="../../../../org/apache/lucene/index/IndexWriter.DocStats.html" title="class in org.apache.lucene.index"><code>IndexWriter.DocStats</code></a> form this writer. The numDoc for instance can change after maxDoc is fetched
 that causes numDocs to be greater than maxDoc which makes it hard to get accurate document stats from IndexWriter.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IndexWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/IndexUpgrader.html" title="class in org.apache.lucene.index"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/lucene/index/IndexWriter.DocStats.html" title="class in org.apache.lucene.index"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/index/IndexWriter.html" target="_top">Frames</a></li>
<li><a href="IndexWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2021 Apache Software Foundation.  All Rights Reserved.</i>
        </small></p>
</body>
</html>
