<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_312) on Tue Dec 14 13:47:35 CET 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>TieredMergePolicy (Lucene 8.11.1 API)</title>
<meta name="date" content="2021-12-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TieredMergePolicy (Lucene 8.11.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":42,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":42,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TieredMergePolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/TermStates.html" title="class in org.apache.lucene.index"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/lucene/index/TieredMergePolicy.MergeScore.html" title="class in org.apache.lucene.index"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/index/TieredMergePolicy.html" target="_top">Frames</a></li>
<li><a href="TieredMergePolicy.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.lucene.index</div>
<h2 title="Class TieredMergePolicy" class="title">Class TieredMergePolicy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">org.apache.lucene.index.MergePolicy</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.index.TieredMergePolicy</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TieredMergePolicy</span>
extends <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></pre>
<div class="block">Merges segments of approximately equal size, subject to
  an allowed number of segments per tier.  This is similar
  to <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index"><code>LogByteSizeMergePolicy</code></a>, except this merge
  policy is able to merge non-adjacent segment, and
  separates how many segments are merged at once (<a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setMaxMergeAtOnce-int-"><code>setMaxMergeAtOnce(int)</code></a>) from how many segments are allowed
  per tier (<a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setSegmentsPerTier-double-"><code>setSegmentsPerTier(double)</code></a>).  This merge
  policy also does not over-merge (i.e. cascade merges). 

  <p>For normal merging, this policy first computes a
  "budget" of how many segments are allowed to be in the
  index.  If the index is over-budget, then the policy
  sorts segments by decreasing size (pro-rating by percent
  deletes), and then finds the least-cost merge.  Merge
  cost is measured by a combination of the "skew" of the
  merge (size of largest segment divided by smallest segment),
  total merge size and percent deletes reclaimed,
  so that merges with lower skew, smaller size
  and those reclaiming more deletes, are
  favored.

  <p>If a merge will produce a segment that's larger than
  <a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setMaxMergedSegmentMB-double-"><code>setMaxMergedSegmentMB(double)</code></a>, then the policy will
  merge fewer segments (down to 1 at once, if that one has
  deletions) to keep the segment size under budget.
      
  <p><b>NOTE</b>: this policy freely merges non-adjacent
  segments; if this is a problem, use <a href="../../../../org/apache/lucene/index/LogMergePolicy.html" title="class in org.apache.lucene.index"><code>LogMergePolicy</code></a>.

  <p><b>NOTE</b>: This policy always merges by byte size
  of the segments, always pro-rates by percent deletes

  <p><b>NOTE</b> Starting with Lucene 7.5, there are several changes:

  - findForcedMerges and findForcedDeletesMerges) respect the max segment
  size by default.

  - When findforcedmerges is called with maxSegmentCount other than 1,
  the resulting index is not guaranteed to have &lt;= maxSegmentCount segments.
  Rather it is on a "best effort" basis. Specifically the theoretical ideal
  segment size is calculated and a "fudge factor" of 25% is added as the
  new maxSegmentSize, which is respected.

  - findForcedDeletesMerges will not produce segments greater than
  maxSegmentSize.</div>
<dl>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.MergeScore.html" title="class in org.apache.lucene.index">TieredMergePolicy.MergeScore</a></span></code>
<div class="block">Holds score and explanation for a single candidate
  merge.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeAbortedException.html" title="class in org.apache.lucene.index">MergePolicy.MergeAbortedException</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.MergeException.html" title="class in org.apache.lucene.index">MergePolicy.MergeException</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.OneMergeProgress.html" title="class in org.apache.lucene.index">MergePolicy.OneMergeProgress</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#DEFAULT_NO_CFS_RATIO">DEFAULT_NO_CFS_RATIO</a></span></code>
<div class="block">Default noCFSRatio.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#DEFAULT_MAX_CFS_SEGMENT_SIZE">DEFAULT_MAX_CFS_SEGMENT_SIZE</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#maxCFSSegmentSize">maxCFSSegmentSize</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#noCFSRatio">noCFSRatio</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#TieredMergePolicy--">TieredMergePolicy</a></span>()</code>
<div class="block">Sole constructor, setting all settings to their
  defaults.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#findForcedDeletesMerges-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-">findForcedDeletesMerges</a></span>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                       <a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)</code>
<div class="block">Determine what set of merge operations is necessary in order to expunge all
 deletes from the index.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#findForcedMerges-org.apache.lucene.index.SegmentInfos-int-java.util.Map-org.apache.lucene.index.MergePolicy.MergeContext-">findForcedMerges</a></span>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                int&nbsp;maxSegmentCount,
                <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;segmentsToMerge,
                <a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)</code>
<div class="block">Determine what set of merge operations is necessary in
 order to merge to <code>&lt;=</code> the specified segment count.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#findMerges-org.apache.lucene.index.MergeTrigger-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-">findMerges</a></span>(<a href="../../../../org/apache/lucene/index/MergeTrigger.html" title="enum in org.apache.lucene.index">MergeTrigger</a>&nbsp;mergeTrigger,
          <a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
          <a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)</code>
<div class="block">Determine what set of merge operations are now necessary on the index.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#getDeletesPctAllowed--">getDeletesPctAllowed</a></span>()</code>
<div class="block">Returns the current deletesPctAllowed setting.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#getFloorSegmentMB--">getFloorSegmentMB</a></span>()</code>
<div class="block">Returns the current floorSegmentMB.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#getForceMergeDeletesPctAllowed--">getForceMergeDeletesPctAllowed</a></span>()</code>
<div class="block">Returns the current forceMergeDeletesPctAllowed setting.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#getMaxMergeAtOnce--">getMaxMergeAtOnce</a></span>()</code>
<div class="block">Returns the current maxMergeAtOnce setting.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#getMaxMergeAtOnceExplicit--">getMaxMergeAtOnceExplicit</a></span>()</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">This method will be removed in Lucene 9.</span></div>
</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#getMaxMergedSegmentMB--">getMaxMergedSegmentMB</a></span>()</code>
<div class="block">Returns the current maxMergedSegmentMB setting.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#getSegmentsPerTier--">getSegmentsPerTier</a></span>()</code>
<div class="block">Returns the current segmentsPerTier setting.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/apache/lucene/index/TieredMergePolicy.MergeScore.html" title="class in org.apache.lucene.index">TieredMergePolicy.MergeScore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#score-java.util.List-boolean-java.util.Map-">score</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&gt;&nbsp;candidate,
     boolean&nbsp;hitTooLarge,
     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>,org.apache.lucene.index.TieredMergePolicy.SegmentSizeAndDocs&gt;&nbsp;segmentsSizes)</code>
<div class="block">Expert: scores one merge; subclasses can override.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setDeletesPctAllowed-double-">setDeletesPctAllowed</a></span>(double&nbsp;v)</code>
<div class="block">Controls the maximum percentage of deleted documents that is tolerated in
  the index.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setFloorSegmentMB-double-">setFloorSegmentMB</a></span>(double&nbsp;v)</code>
<div class="block">Segments smaller than this are "rounded up" to this
  size, ie treated as equal (floor) size for merge
  selection.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setForceMergeDeletesPctAllowed-double-">setForceMergeDeletesPctAllowed</a></span>(double&nbsp;v)</code>
<div class="block">When forceMergeDeletes is called, we only merge away a
  segment if its delete percentage is over this
  threshold.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setMaxMergeAtOnce-int-">setMaxMergeAtOnce</a></span>(int&nbsp;v)</code>
<div class="block">Maximum number of segments to be merged at a time
  during "normal" merging.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setMaxMergeAtOnceExplicit-int-">setMaxMergeAtOnceExplicit</a></span>(int&nbsp;v)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">This method will be removed in Lucene 9 and explicit
             merges won't limit the number of merged segments.</span></div>
</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setMaxMergedSegmentMB-double-">setMaxMergedSegmentMB</a></span>(double&nbsp;v)</code>
<div class="block">Maximum sized segment to produce during
  normal merging.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setSegmentsPerTier-double-">setSegmentsPerTier</a></span>(double&nbsp;v)</code>
<div class="block">Sets the allowed number of segments per tier.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#assertDelCount-int-org.apache.lucene.index.SegmentCommitInfo-">assertDelCount</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#findFullFlushMerges-org.apache.lucene.index.MergeTrigger-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-">findFullFlushMerges</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#getMaxCFSSegmentSizeMB--">getMaxCFSSegmentSizeMB</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#getNoCFSRatio--">getNoCFSRatio</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#isMerged-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.SegmentCommitInfo-org.apache.lucene.index.MergePolicy.MergeContext-">isMerged</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#keepFullyDeletedSegment-org.apache.lucene.util.IOSupplier-">keepFullyDeletedSegment</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#message-java.lang.String-org.apache.lucene.index.MergePolicy.MergeContext-">message</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#numDeletesToMerge-org.apache.lucene.index.SegmentCommitInfo-int-org.apache.lucene.util.IOSupplier-">numDeletesToMerge</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#segString-org.apache.lucene.index.MergePolicy.MergeContext-java.lang.Iterable-">segString</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#setMaxCFSSegmentSizeMB-double-">setMaxCFSSegmentSizeMB</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#setNoCFSRatio-double-">setNoCFSRatio</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#size-org.apache.lucene.index.SegmentCommitInfo-org.apache.lucene.index.MergePolicy.MergeContext-">size</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#useCompoundFile-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.SegmentCommitInfo-org.apache.lucene.index.MergePolicy.MergeContext-">useCompoundFile</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.html#verbose-org.apache.lucene.index.MergePolicy.MergeContext-">verbose</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_NO_CFS_RATIO">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_NO_CFS_RATIO</h4>
<pre>public static final&nbsp;double DEFAULT_NO_CFS_RATIO</pre>
<div class="block">Default noCFSRatio.  If a merge's size is <code>&gt;= 10%</code> of
  the index, then we disable compound file for it.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/MergePolicy.html#setNoCFSRatio-double-"><code>MergePolicy.setNoCFSRatio(double)</code></a>, 
<a href="../../../../constant-values.html#org.apache.lucene.index.TieredMergePolicy.DEFAULT_NO_CFS_RATIO">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TieredMergePolicy--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TieredMergePolicy</h4>
<pre>public&nbsp;TieredMergePolicy()</pre>
<div class="block">Sole constructor, setting all settings to their
  defaults.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setMaxMergeAtOnce-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxMergeAtOnce</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a>&nbsp;setMaxMergeAtOnce(int&nbsp;v)</pre>
<div class="block">Maximum number of segments to be merged at a time
  during "normal" merging.  For explicit merging (eg,
  forceMerge or forceMergeDeletes was called), see <a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setMaxMergeAtOnceExplicit-int-"><code>setMaxMergeAtOnceExplicit(int)</code></a>.  Default is 10.</div>
</li>
</ul>
<a name="getMaxMergeAtOnce--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxMergeAtOnce</h4>
<pre>public&nbsp;int&nbsp;getMaxMergeAtOnce()</pre>
<div class="block">Returns the current maxMergeAtOnce setting.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setMaxMergeAtOnce-int-"><code>setMaxMergeAtOnce(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="setMaxMergeAtOnceExplicit-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxMergeAtOnceExplicit</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;<a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a>&nbsp;setMaxMergeAtOnceExplicit(int&nbsp;v)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">This method will be removed in Lucene 9 and explicit
             merges won't limit the number of merged segments.</span></div>
<div class="block">Maximum number of segments to be merged at a time,
  during forceMerge or forceMergeDeletes. Default is unlimited.</div>
</li>
</ul>
<a name="getMaxMergeAtOnceExplicit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxMergeAtOnceExplicit</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;int&nbsp;getMaxMergeAtOnceExplicit()</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">This method will be removed in Lucene 9.</span></div>
<div class="block">Returns the current maxMergeAtOnceExplicit setting.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setMaxMergeAtOnceExplicit-int-"><code>setMaxMergeAtOnceExplicit(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="setMaxMergedSegmentMB-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxMergedSegmentMB</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a>&nbsp;setMaxMergedSegmentMB(double&nbsp;v)</pre>
<div class="block">Maximum sized segment to produce during
  normal merging.  This setting is approximate: the
  estimate of the merged segment size is made by summing
  sizes of to-be-merged segments (compensating for
  percent deleted docs).  Default is 5 GB.</div>
</li>
</ul>
<a name="getMaxMergedSegmentMB--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxMergedSegmentMB</h4>
<pre>public&nbsp;double&nbsp;getMaxMergedSegmentMB()</pre>
<div class="block">Returns the current maxMergedSegmentMB setting.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setMaxMergedSegmentMB-double-"><code>setMaxMergedSegmentMB(double)</code></a></dd>
</dl>
</li>
</ul>
<a name="setDeletesPctAllowed-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDeletesPctAllowed</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a>&nbsp;setDeletesPctAllowed(double&nbsp;v)</pre>
<div class="block">Controls the maximum percentage of deleted documents that is tolerated in
  the index. Lower values make the index more space efficient at the
  expense of increased CPU and I/O activity. Values must be between 20 and
  50. Default value is 33.</div>
</li>
</ul>
<a name="getDeletesPctAllowed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDeletesPctAllowed</h4>
<pre>public&nbsp;double&nbsp;getDeletesPctAllowed()</pre>
<div class="block">Returns the current deletesPctAllowed setting.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setDeletesPctAllowed-double-"><code>setDeletesPctAllowed(double)</code></a></dd>
</dl>
</li>
</ul>
<a name="setFloorSegmentMB-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFloorSegmentMB</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a>&nbsp;setFloorSegmentMB(double&nbsp;v)</pre>
<div class="block">Segments smaller than this are "rounded up" to this
  size, ie treated as equal (floor) size for merge
  selection.  This is to prevent frequent flushing of
  tiny segments from allowing a long tail in the index.
  Default is 2 MB.</div>
</li>
</ul>
<a name="getFloorSegmentMB--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFloorSegmentMB</h4>
<pre>public&nbsp;double&nbsp;getFloorSegmentMB()</pre>
<div class="block">Returns the current floorSegmentMB.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setFloorSegmentMB-double-"><code>setFloorSegmentMB(double)</code></a></dd>
</dl>
</li>
</ul>
<a name="setForceMergeDeletesPctAllowed-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setForceMergeDeletesPctAllowed</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a>&nbsp;setForceMergeDeletesPctAllowed(double&nbsp;v)</pre>
<div class="block">When forceMergeDeletes is called, we only merge away a
  segment if its delete percentage is over this
  threshold.  Default is 10%.</div>
</li>
</ul>
<a name="getForceMergeDeletesPctAllowed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getForceMergeDeletesPctAllowed</h4>
<pre>public&nbsp;double&nbsp;getForceMergeDeletesPctAllowed()</pre>
<div class="block">Returns the current forceMergeDeletesPctAllowed setting.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setForceMergeDeletesPctAllowed-double-"><code>setForceMergeDeletesPctAllowed(double)</code></a></dd>
</dl>
</li>
</ul>
<a name="setSegmentsPerTier-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSegmentsPerTier</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index">TieredMergePolicy</a>&nbsp;setSegmentsPerTier(double&nbsp;v)</pre>
<div class="block">Sets the allowed number of segments per tier.  Smaller
  values mean more merging but fewer segments.

  <p>Default is 10.0.</p></div>
</li>
</ul>
<a name="getSegmentsPerTier--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSegmentsPerTier</h4>
<pre>public&nbsp;double&nbsp;getSegmentsPerTier()</pre>
<div class="block">Returns the current segmentsPerTier setting.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/index/TieredMergePolicy.html#setSegmentsPerTier-double-"><code>setSegmentsPerTier(double)</code></a></dd>
</dl>
</li>
</ul>
<a name="findMerges-org.apache.lucene.index.MergeTrigger-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findMerges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findMerges(<a href="../../../../org/apache/lucene/index/MergeTrigger.html" title="enum in org.apache.lucene.index">MergeTrigger</a>&nbsp;mergeTrigger,
                                                 <a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                                                 <a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)
                                          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#findMerges-org.apache.lucene.index.MergeTrigger-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-">MergePolicy</a></code></span></div>
<div class="block">Determine what set of merge operations are now necessary on the index.
 <a href="../../../../org/apache/lucene/index/IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> calls this whenever there is a change to the segments.
 This call is always synchronized on the <a href="../../../../org/apache/lucene/index/IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> instance so
 only one thread at a time will call this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.html#findMerges-org.apache.lucene.index.MergeTrigger-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-">findMerges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mergeTrigger</code> - the event that triggered the merge</dd>
<dd><code>infos</code> - the total set of segments in the index</dd>
<dd><code>mergeContext</code> - the IndexWriter to find the merges on</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="score-java.util.List-boolean-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>score</h4>
<pre>protected&nbsp;<a href="../../../../org/apache/lucene/index/TieredMergePolicy.MergeScore.html" title="class in org.apache.lucene.index">TieredMergePolicy.MergeScore</a>&nbsp;score(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&gt;&nbsp;candidate,
                                             boolean&nbsp;hitTooLarge,
                                             <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>,org.apache.lucene.index.TieredMergePolicy.SegmentSizeAndDocs&gt;&nbsp;segmentsSizes)
                                      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Expert: scores one merge; subclasses can override.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="findForcedMerges-org.apache.lucene.index.SegmentInfos-int-java.util.Map-org.apache.lucene.index.MergePolicy.MergeContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findForcedMerges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findForcedMerges(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                                                       int&nbsp;maxSegmentCount,
                                                       <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;segmentsToMerge,
                                                       <a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)
                                                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#findForcedMerges-org.apache.lucene.index.SegmentInfos-int-java.util.Map-org.apache.lucene.index.MergePolicy.MergeContext-">MergePolicy</a></code></span></div>
<div class="block">Determine what set of merge operations is necessary in
 order to merge to <code>&lt;=</code> the specified segment count. <a href="../../../../org/apache/lucene/index/IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> calls this when its
 <a href="../../../../org/apache/lucene/index/IndexWriter.html#forceMerge-int-"><code>IndexWriter.forceMerge(int)</code></a> method is called. This call is always
 synchronized on the <a href="../../../../org/apache/lucene/index/IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> instance so only one thread at a
 time will call this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.html#findForcedMerges-org.apache.lucene.index.SegmentInfos-int-java.util.Map-org.apache.lucene.index.MergePolicy.MergeContext-">findForcedMerges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>infos</code> - the total set of segments in the index</dd>
<dd><code>maxSegmentCount</code> - requested maximum number of segments in the index (currently this
          is always 1)</dd>
<dd><code>segmentsToMerge</code> - contains the specific SegmentInfo instances that must be merged
          away. This may be a subset of all
          SegmentInfos.  If the value is True for a
          given SegmentInfo, that means this segment was
          an original segment present in the
          to-be-merged index; else, it was a segment
          produced by a cascaded merge.</dd>
<dd><code>mergeContext</code> - the MergeContext to find the merges on</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="findForcedDeletesMerges-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findForcedDeletesMerges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findForcedDeletesMerges(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                                                              <a href="../../../../org/apache/lucene/index/MergePolicy.MergeContext.html" title="interface in org.apache.lucene.index">MergePolicy.MergeContext</a>&nbsp;mergeContext)
                                                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#findForcedDeletesMerges-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-">MergePolicy</a></code></span></div>
<div class="block">Determine what set of merge operations is necessary in order to expunge all
 deletes from the index.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.html#findForcedDeletesMerges-org.apache.lucene.index.SegmentInfos-org.apache.lucene.index.MergePolicy.MergeContext-">findForcedDeletesMerges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>infos</code> - the total set of segments in the index</dd>
<dd><code>mergeContext</code> - the MergeContext to find the merges on</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TieredMergePolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/TermStates.html" title="class in org.apache.lucene.index"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/lucene/index/TieredMergePolicy.MergeScore.html" title="class in org.apache.lucene.index"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/index/TieredMergePolicy.html" target="_top">Frames</a></li>
<li><a href="TieredMergePolicy.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2021 Apache Software Foundation.  All Rights Reserved.</i>
        </small></p>
</body>
</html>
