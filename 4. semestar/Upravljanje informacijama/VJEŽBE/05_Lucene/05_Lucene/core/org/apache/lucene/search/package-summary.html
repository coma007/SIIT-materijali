<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_312) on Tue Dec 14 13:47:38 CET 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>org.apache.lucene.search (Lucene 8.11.1 API)</title>
<meta name="date" content="2021-12-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.apache.lucene.search (Lucene 8.11.1 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../org/apache/lucene/search/comparators/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/search/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.apache.lucene.search</h1>
<div class="docSummary">
<div class="block">Code to search indices.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BoostAttribute.html" title="interface in org.apache.lucene.search">BoostAttribute</a></td>
<td class="colLast">
<div class="block">Add this <a href="../../../../org/apache/lucene/util/Attribute.html" title="interface in org.apache.lucene.util"><code>Attribute</code></a> to a <a href="../../../../org/apache/lucene/index/TermsEnum.html" title="class in org.apache.lucene.index"><code>TermsEnum</code></a> returned by <a href="../../../../org/apache/lucene/search/MultiTermQuery.html#getTermsEnum-org.apache.lucene.index.Terms-org.apache.lucene.util.AttributeSource-"><code>MultiTermQuery.getTermsEnum(Terms,AttributeSource)</code></a>
 and update the boost on each returned term.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search">Collector</a></td>
<td class="colLast">
<div class="block">Expert: Collectors are primarily meant to be used to
 gather raw results from a search, and implement sorting
 or custom result filtering, collation, etc.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/CollectorManager.html" title="interface in org.apache.lucene.search">CollectorManager</a>&lt;C extends <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search">Collector</a>,T&gt;</td>
<td class="colLast">
<div class="block">A manager of collectors.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/LeafCollector.html" title="interface in org.apache.lucene.search">LeafCollector</a></td>
<td class="colLast">
<div class="block">Collector decouples the score from the collected doc:
 the score computation is skipped entirely if it's not
 needed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/LeafFieldComparator.html" title="interface in org.apache.lucene.search">LeafFieldComparator</a></td>
<td class="colLast">
<div class="block">Expert: comparator that gets instantiated on each leaf
 from a top-level <a href="../../../../org/apache/lucene/search/FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a> instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Matches.html" title="interface in org.apache.lucene.search">Matches</a></td>
<td class="colLast">
<div class="block">Reports the positions and optionally offsets of all matching terms in a query
 for a single document

 To obtain a <a href="../../../../org/apache/lucene/search/MatchesIterator.html" title="interface in org.apache.lucene.search"><code>MatchesIterator</code></a> for a particular field, call <a href="../../../../org/apache/lucene/search/Matches.html#getMatches-java.lang.String-"><code>Matches.getMatches(String)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MatchesIterator.html" title="interface in org.apache.lucene.search">MatchesIterator</a></td>
<td class="colLast">
<div class="block">An iterator over match positions (and optionally offsets) for a single document and field

 To iterate over the matches, call <a href="../../../../org/apache/lucene/search/MatchesIterator.html#next--"><code>MatchesIterator.next()</code></a> until it returns <code>false</code>, retrieving
 positions and/or offsets after each call.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MaxNonCompetitiveBoostAttribute.html" title="interface in org.apache.lucene.search">MaxNonCompetitiveBoostAttribute</a></td>
<td class="colLast">
<div class="block">Add this <a href="../../../../org/apache/lucene/util/Attribute.html" title="interface in org.apache.lucene.util"><code>Attribute</code></a> to a fresh <a href="../../../../org/apache/lucene/util/AttributeSource.html" title="class in org.apache.lucene.util"><code>AttributeSource</code></a> before calling
 <a href="../../../../org/apache/lucene/search/MultiTermQuery.html#getTermsEnum-org.apache.lucene.index.Terms-org.apache.lucene.util.AttributeSource-"><code>MultiTermQuery.getTermsEnum(Terms,AttributeSource)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/QueryCache.html" title="interface in org.apache.lucene.search">QueryCache</a></td>
<td class="colLast">
<div class="block">A cache for queries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/QueryCachingPolicy.html" title="interface in org.apache.lucene.search">QueryCachingPolicy</a></td>
<td class="colLast">
<div class="block">A policy defining which filters should be cached.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a></td>
<td class="colLast">
<div class="block">Use to receive notification when a refresh has
  finished.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherLifetimeManager.Pruner.html" title="interface in org.apache.lucene.search">SearcherLifetimeManager.Pruner</a></td>
<td class="colLast">
<div class="block">See <a href="../../../../org/apache/lucene/search/SearcherLifetimeManager.html#prune-org.apache.lucene.search.SearcherLifetimeManager.Pruner-"><code>SearcherLifetimeManager.prune(org.apache.lucene.search.SearcherLifetimeManager.Pruner)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SegmentCacheable.html" title="interface in org.apache.lucene.search">SegmentCacheable</a></td>
<td class="colLast">
<div class="block">Interface defining whether or not an object can be cached against a <a href="../../../../org/apache/lucene/index/LeafReader.html" title="class in org.apache.lucene.index"><code>LeafReader</code></a>

 Objects that depend only on segment-immutable structures such as Points or postings lists
 can just return <code>true</code> from <a href="../../../../org/apache/lucene/search/SegmentCacheable.html#isCacheable-org.apache.lucene.index.LeafReaderContext-"><code>SegmentCacheable.isCacheable(LeafReaderContext)</code></a>

 Objects that depend on doc values should return <a href="../../../../org/apache/lucene/index/DocValues.html#isCacheable-org.apache.lucene.index.LeafReaderContext-java.lang.String...-"><code>DocValues.isCacheable(LeafReaderContext, String...)</code></a>, which
 will check to see if the doc values fields have been updated.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/AutomatonQuery.html" title="class in org.apache.lucene.search">AutomatonQuery</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that will match terms against a finite-state machine.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BlendedTermQuery.html" title="class in org.apache.lucene.search">BlendedTermQuery</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that blends index statistics across multiple terms.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BlendedTermQuery.Builder.html" title="class in org.apache.lucene.search">BlendedTermQuery.Builder</a></td>
<td class="colLast">
<div class="block">A Builder for <a href="../../../../org/apache/lucene/search/BlendedTermQuery.html" title="class in org.apache.lucene.search"><code>BlendedTermQuery</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BlendedTermQuery.DisjunctionMaxRewrite.html" title="class in org.apache.lucene.search">BlendedTermQuery.DisjunctionMaxRewrite</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/BlendedTermQuery.RewriteMethod.html" title="class in org.apache.lucene.search"><code>BlendedTermQuery.RewriteMethod</code></a> that creates a <a href="../../../../org/apache/lucene/search/DisjunctionMaxQuery.html" title="class in org.apache.lucene.search"><code>DisjunctionMaxQuery</code></a> out
 of the sub queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BlendedTermQuery.RewriteMethod.html" title="class in org.apache.lucene.search">BlendedTermQuery.RewriteMethod</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/BlendedTermQuery.RewriteMethod.html" title="class in org.apache.lucene.search"><code>BlendedTermQuery.RewriteMethod</code></a> defines how queries for individual terms should
  be merged.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BlockMaxDISI.html" title="class in org.apache.lucene.search">BlockMaxDISI</a></td>
<td class="colLast">
<div class="block"><a href="../../../../org/apache/lucene/search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a> that skips non-competitive docs by checking
 the max score of the provided <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> for the current block.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BooleanClause.html" title="class in org.apache.lucene.search">BooleanClause</a></td>
<td class="colLast">
<div class="block">A clause in a BooleanQuery.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search">BooleanQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents matching boolean combinations of other
 queries, e.g.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BooleanQuery.Builder.html" title="class in org.apache.lucene.search">BooleanQuery.Builder</a></td>
<td class="colLast">
<div class="block">A builder for boolean queries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BoostAttributeImpl.html" title="class in org.apache.lucene.search">BoostAttributeImpl</a></td>
<td class="colLast">
<div class="block">Implementation class for <a href="../../../../org/apache/lucene/search/BoostAttribute.html" title="interface in org.apache.lucene.search"><code>BoostAttribute</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BoostQuery.html" title="class in org.apache.lucene.search">BoostQuery</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> wrapper that allows to give a boost to the wrapped query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BulkScorer.html" title="class in org.apache.lucene.search">BulkScorer</a></td>
<td class="colLast">
<div class="block">This class is used to score a range of documents at
  once, and is returned by <a href="../../../../org/apache/lucene/search/Weight.html#bulkScorer-org.apache.lucene.index.LeafReaderContext-"><code>Weight.bulkScorer(org.apache.lucene.index.LeafReaderContext)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/CachingCollector.html" title="class in org.apache.lucene.search">CachingCollector</a></td>
<td class="colLast">
<div class="block">Caches all docs, and optionally also scores, coming from
 a search, and is then able to replay them to another
 collector.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/CollectionStatistics.html" title="class in org.apache.lucene.search">CollectionStatistics</a></td>
<td class="colLast">
<div class="block">Contains statistics for a collection (field).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ConjunctionDISI.html" title="class in org.apache.lucene.search">ConjunctionDISI</a></td>
<td class="colLast">
<div class="block">A conjunction of DocIdSetIterators.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ConstantScoreQuery.html" title="class in org.apache.lucene.search">ConstantScoreQuery</a></td>
<td class="colLast">
<div class="block">A query that wraps another query and simply returns a constant score equal to
 1 for every document that matches the query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ConstantScoreQuery.ConstantBulkScorer.html" title="class in org.apache.lucene.search">ConstantScoreQuery.ConstantBulkScorer</a></td>
<td class="colLast">
<div class="block">We return this as our <a href="../../../../org/apache/lucene/search/BulkScorer.html" title="class in org.apache.lucene.search"><code>BulkScorer</code></a> so that if the CSQ
  wraps a query with its own optimized top-level
  scorer (e.g.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ConstantScoreScorer.html" title="class in org.apache.lucene.search">ConstantScoreScorer</a></td>
<td class="colLast">
<div class="block">A constant-scoring <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ConstantScoreWeight.html" title="class in org.apache.lucene.search">ConstantScoreWeight</a></td>
<td class="colLast">
<div class="block">A Weight that has a constant score equal to the boost of the wrapped query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ControlledRealTimeReopenThread.html" title="class in org.apache.lucene.search">ControlledRealTimeReopenThread</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Utility class that runs a thread to manage periodicc
  reopens of a <a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a>, with methods to wait for a specific
  index changes to become visible.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DisiPriorityQueue.html" title="class in org.apache.lucene.search">DisiPriorityQueue</a></td>
<td class="colLast">
<div class="block">A priority queue of DocIdSetIterators that orders by current doc ID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DisiWrapper.html" title="class in org.apache.lucene.search">DisiWrapper</a></td>
<td class="colLast">
<div class="block">Wrapper used in <a href="../../../../org/apache/lucene/search/DisiPriorityQueue.html" title="class in org.apache.lucene.search"><code>DisiPriorityQueue</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DisjunctionDISIApproximation.html" title="class in org.apache.lucene.search">DisjunctionDISIApproximation</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a> which is a disjunction of the approximations of
 the provided iterators.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DisjunctionMaxQuery.html" title="class in org.apache.lucene.search">DisjunctionMaxQuery</a></td>
<td class="colLast">
<div class="block">A query that generates the union of documents produced by its subqueries, and that scores each document with the maximum
 score for that document as produced by any subquery, plus a tie breaking increment for any additional matching subqueries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search">DocIdSet</a></td>
<td class="colLast">
<div class="block">A DocIdSet contains a set of doc ids.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></td>
<td class="colLast">
<div class="block">This abstract class defines methods to iterate over a set of non-decreasing
 doc ids.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DocValuesFieldExistsQuery.html" title="class in org.apache.lucene.search">DocValuesFieldExistsQuery</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that matches documents that have a value for a given field
 as reported by doc values iterators.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DocValuesRewriteMethod.html" title="class in org.apache.lucene.search">DocValuesRewriteMethod</a></td>
<td class="colLast">
<div class="block">Rewrites MultiTermQueries into a filter, using DocValues for term enumeration.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DoubleValues.html" title="class in org.apache.lucene.search">DoubleValues</a></td>
<td class="colLast">
<div class="block">Per-segment, per-document double values, which can be calculated at search-time</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DoubleValuesSource.html" title="class in org.apache.lucene.search">DoubleValuesSource</a></td>
<td class="colLast">
<div class="block">Base class for producing <a href="../../../../org/apache/lucene/search/DoubleValues.html" title="class in org.apache.lucene.search"><code>DoubleValues</code></a>

 To obtain a <a href="../../../../org/apache/lucene/search/DoubleValues.html" title="class in org.apache.lucene.search"><code>DoubleValues</code></a> object for a leaf reader, clients should call
 <a href="../../../../org/apache/lucene/search/DoubleValuesSource.html#rewrite-org.apache.lucene.search.IndexSearcher-"><code>DoubleValuesSource.rewrite(IndexSearcher)</code></a> against the top-level searcher, and then
 call <a href="../../../../org/apache/lucene/search/DoubleValuesSource.html#getValues-org.apache.lucene.index.LeafReaderContext-org.apache.lucene.search.DoubleValues-"><code>DoubleValuesSource.getValues(LeafReaderContext, DoubleValues)</code></a> on the resulting
 DoubleValuesSource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Explanation.html" title="class in org.apache.lucene.search">Explanation</a></td>
<td class="colLast">
<div class="block">Expert: Describes the score computation for document and query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.html" title="class in org.apache.lucene.search">FieldComparator</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Expert: a FieldComparator compares hits so as to determine their
 sort order when collecting the top results with <a href="../../../../org/apache/lucene/search/TopFieldCollector.html" title="class in org.apache.lucene.search"><code>TopFieldCollector</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.RelevanceComparator.html" title="class in org.apache.lucene.search">FieldComparator.RelevanceComparator</a></td>
<td class="colLast">
<div class="block">Sorts by descending relevance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.TermOrdValComparator.html" title="class in org.apache.lucene.search">FieldComparator.TermOrdValComparator</a></td>
<td class="colLast">
<div class="block">Sorts by field's natural Term sort order, using
  ordinals.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.TermValComparator.html" title="class in org.apache.lucene.search">FieldComparator.TermValComparator</a></td>
<td class="colLast">
<div class="block">Sorts by field's natural Term sort order.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparatorSource.html" title="class in org.apache.lucene.search">FieldComparatorSource</a></td>
<td class="colLast">
<div class="block">Provides a <a href="../../../../org/apache/lucene/search/FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a> for custom field sorting.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldDoc.html" title="class in org.apache.lucene.search">FieldDoc</a></td>
<td class="colLast">
<div class="block">Expert: A ScoreDoc which also contains information about
 how to sort the referenced document.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldValueHitQueue.html" title="class in org.apache.lucene.search">FieldValueHitQueue</a>&lt;T extends <a href="../../../../org/apache/lucene/search/FieldValueHitQueue.Entry.html" title="class in org.apache.lucene.search">FieldValueHitQueue.Entry</a>&gt;</td>
<td class="colLast">
<div class="block">Expert: A hit queue for sorting by hits by terms in more than one field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldValueHitQueue.Entry.html" title="class in org.apache.lucene.search">FieldValueHitQueue.Entry</a></td>
<td class="colLast">
<div class="block">Extension of ScoreDoc to also store the 
 <a href="../../../../org/apache/lucene/search/FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a> slot.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilterCollector.html" title="class in org.apache.lucene.search">FilterCollector</a></td>
<td class="colLast">
<div class="block"><a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> delegator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilteredDocIdSetIterator.html" title="class in org.apache.lucene.search">FilteredDocIdSetIterator</a></td>
<td class="colLast">
<div class="block">Abstract decorator class of a DocIdSetIterator
 implementation that provides on-demand filter/validation
 mechanism on an underlying DocIdSetIterator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilterLeafCollector.html" title="class in org.apache.lucene.search">FilterLeafCollector</a></td>
<td class="colLast">
<div class="block"><a href="../../../../org/apache/lucene/search/LeafCollector.html" title="interface in org.apache.lucene.search"><code>LeafCollector</code></a> delegator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilterMatchesIterator.html" title="class in org.apache.lucene.search">FilterMatchesIterator</a></td>
<td class="colLast">
<div class="block">A MatchesIterator that delegates all calls to another MatchesIterator</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilterScorable.html" title="class in org.apache.lucene.search">FilterScorable</a></td>
<td class="colLast">
<div class="block">Filter a <a href="../../../../org/apache/lucene/search/Scorable.html" title="class in org.apache.lucene.search"><code>Scorable</code></a>, intercepting methods and optionally changing
 their return values

 The default implementation simply passes all calls to its delegate, with
 the exception of <a href="../../../../org/apache/lucene/search/Scorable.html#setMinCompetitiveScore-float-"><code>Scorable.setMinCompetitiveScore(float)</code></a> which defaults
 to a no-op.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilterScorer.html" title="class in org.apache.lucene.search">FilterScorer</a></td>
<td class="colLast">
<div class="block">A <code>FilterScorer</code> contains another <code>Scorer</code>, which it
 uses as its basic source of data, possibly transforming the data along the
 way or providing additional functionality.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilterWeight.html" title="class in org.apache.lucene.search">FilterWeight</a></td>
<td class="colLast">
<div class="block">A <code>FilterWeight</code> contains another <code>Weight</code> and implements
 all abstract methods by calling the contained weight's method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FuzzyQuery.html" title="class in org.apache.lucene.search">FuzzyQuery</a></td>
<td class="colLast">
<div class="block">Implements the fuzzy search query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FuzzyTermsEnum.html" title="class in org.apache.lucene.search">FuzzyTermsEnum</a></td>
<td class="colLast">
<div class="block">Subclass of TermsEnum for enumerating all terms that are similar
 to the specified filter term.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ImpactsDISI.html" title="class in org.apache.lucene.search">ImpactsDISI</a></td>
<td class="colLast">
<div class="block"><a href="../../../../org/apache/lucene/search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a> that skips non-competitive docs thanks to the
 indexed impacts.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndexOrDocValuesQuery.html" title="class in org.apache.lucene.search">IndexOrDocValuesQuery</a></td>
<td class="colLast">
<div class="block">A query that uses either an index structure (points or terms) or doc values
 in order to run a query, depending which one is more efficient.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search">IndexSearcher</a></td>
<td class="colLast">
<div class="block">Implements search over a single IndexReader.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndexSearcher.LeafSlice.html" title="class in org.apache.lucene.search">IndexSearcher.LeafSlice</a></td>
<td class="colLast">
<div class="block">A class holding a subset of the <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>s leaf contexts to be
 executed within a single thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndriAndQuery.html" title="class in org.apache.lucene.search">IndriAndQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents matching combinations of subqueries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndriAndScorer.html" title="class in org.apache.lucene.search">IndriAndScorer</a></td>
<td class="colLast">
<div class="block">Combines scores of subscorers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndriAndWeight.html" title="class in org.apache.lucene.search">IndriAndWeight</a></td>
<td class="colLast">
<div class="block">The Weight for IndriAndQuery, used to normalize, score and explain these queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndriDisjunctionScorer.html" title="class in org.apache.lucene.search">IndriDisjunctionScorer</a></td>
<td class="colLast">
<div class="block">The Indri implemenation of a disjunction scorer which stores the subscorers for the child
 queries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndriQuery.html" title="class in org.apache.lucene.search">IndriQuery</a></td>
<td class="colLast">
<div class="block">A Basic abstract query that all IndriQueries can extend to implement toString, equals,
 getClauses, and iterator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndriScorer.html" title="class in org.apache.lucene.search">IndriScorer</a></td>
<td class="colLast">
<div class="block">The Indri parent scorer that stores the boost so that IndriScorers can use the boost outside of
 the term.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/LeafSimScorer.html" title="class in org.apache.lucene.search">LeafSimScorer</a></td>
<td class="colLast">
<div class="block"><a href="../../../../org/apache/lucene/search/similarities/Similarity.SimScorer.html" title="class in org.apache.lucene.search.similarities"><code>Similarity.SimScorer</code></a> on a specific <a href="../../../../org/apache/lucene/index/LeafReader.html" title="class in org.apache.lucene.index"><code>LeafReader</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/LiveFieldValues.html" title="class in org.apache.lucene.search">LiveFieldValues</a>&lt;S,T&gt;</td>
<td class="colLast">
<div class="block">Tracks live field values across NRT reader reopens.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/LongValues.html" title="class in org.apache.lucene.search">LongValues</a></td>
<td class="colLast">
<div class="block">Per-segment, per-document long values, which can be calculated at search-time</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/LongValuesSource.html" title="class in org.apache.lucene.search">LongValuesSource</a></td>
<td class="colLast">
<div class="block">Base class for producing <a href="../../../../org/apache/lucene/search/LongValues.html" title="class in org.apache.lucene.search"><code>LongValues</code></a>

 To obtain a <a href="../../../../org/apache/lucene/search/LongValues.html" title="class in org.apache.lucene.search"><code>LongValues</code></a> object for a leaf reader, clients should
 call <a href="../../../../org/apache/lucene/search/LongValuesSource.html#rewrite-org.apache.lucene.search.IndexSearcher-"><code>LongValuesSource.rewrite(IndexSearcher)</code></a> against the top-level searcher, and
 then <a href="../../../../org/apache/lucene/search/LongValuesSource.html#getValues-org.apache.lucene.index.LeafReaderContext-org.apache.lucene.search.DoubleValues-"><code>LongValuesSource.getValues(LeafReaderContext, DoubleValues)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html" title="class in org.apache.lucene.search">LRUQueryCache</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/QueryCache.html" title="interface in org.apache.lucene.search"><code>QueryCache</code></a> that evicts queries using a LRU (least-recently-used)
 eviction policy in order to remain under a given maximum size and number of
 bytes used.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MatchAllDocsQuery.html" title="class in org.apache.lucene.search">MatchAllDocsQuery</a></td>
<td class="colLast">
<div class="block">A query that matches all documents.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MatchesUtils.html" title="class in org.apache.lucene.search">MatchesUtils</a></td>
<td class="colLast">
<div class="block">Contains static functions that aid the implementation of <a href="../../../../org/apache/lucene/search/Matches.html" title="interface in org.apache.lucene.search"><code>Matches</code></a> and
 <a href="../../../../org/apache/lucene/search/MatchesIterator.html" title="interface in org.apache.lucene.search"><code>MatchesIterator</code></a> interfaces.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MatchNoDocsQuery.html" title="class in org.apache.lucene.search">MatchNoDocsQuery</a></td>
<td class="colLast">
<div class="block">A query that matches no documents.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MaxNonCompetitiveBoostAttributeImpl.html" title="class in org.apache.lucene.search">MaxNonCompetitiveBoostAttributeImpl</a></td>
<td class="colLast">
<div class="block">Implementation class for <a href="../../../../org/apache/lucene/search/MaxNonCompetitiveBoostAttribute.html" title="interface in org.apache.lucene.search"><code>MaxNonCompetitiveBoostAttribute</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiCollector.html" title="class in org.apache.lucene.search">MultiCollector</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> which allows running a search with several <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiCollectorManager.html" title="class in org.apache.lucene.search">MultiCollectorManager</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/CollectorManager.html" title="interface in org.apache.lucene.search"><code>CollectorManager</code></a> implements which wrap a set of <a href="../../../../org/apache/lucene/search/CollectorManager.html" title="interface in org.apache.lucene.search"><code>CollectorManager</code></a>
 as <a href="../../../../org/apache/lucene/search/MultiCollector.html" title="class in org.apache.lucene.search"><code>MultiCollector</code></a> acts for <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiPhraseQuery.html" title="class in org.apache.lucene.search">MultiPhraseQuery</a></td>
<td class="colLast">
<div class="block">A generalized version of <a href="../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a>, with the possibility of
 adding more than one term at the same position that are treated as a disjunction (OR).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiPhraseQuery.Builder.html" title="class in org.apache.lucene.search">MultiPhraseQuery.Builder</a></td>
<td class="colLast">
<div class="block">A builder for multi-phrase queries</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.html" title="class in org.apache.lucene.search">MultiTermQuery</a></td>
<td class="colLast">
<div class="block">An abstract <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that matches documents
 containing a subset of terms provided by a <a href="../../../../org/apache/lucene/index/FilteredTermsEnum.html" title="class in org.apache.lucene.index"><code>FilteredTermsEnum</code></a> enumeration.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.RewriteMethod.html" title="class in org.apache.lucene.search">MultiTermQuery.RewriteMethod</a></td>
<td class="colLast">
<div class="block">Abstract class that defines how the query is rewritten.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.TopTermsBlendedFreqScoringRewrite.html" title="class in org.apache.lucene.search">MultiTermQuery.TopTermsBlendedFreqScoringRewrite</a></td>
<td class="colLast">
<div class="block">A rewrite method that first translates each term into
 <a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clause in a BooleanQuery, but adjusts
 the frequencies used for scoring to be blended across the terms, otherwise
 the rarest term typically ranks highest (often not useful eg in the set of
 expanded terms in a FuzzyQuery).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.TopTermsBoostOnlyBooleanQueryRewrite.html" title="class in org.apache.lucene.search">MultiTermQuery.TopTermsBoostOnlyBooleanQueryRewrite</a></td>
<td class="colLast">
<div class="block">A rewrite method that first translates each term into
 <a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clause in a BooleanQuery, but the scores
 are only computed as the boost.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.TopTermsScoringBooleanQueryRewrite.html" title="class in org.apache.lucene.search">MultiTermQuery.TopTermsScoringBooleanQueryRewrite</a></td>
<td class="colLast">
<div class="block">A rewrite method that first translates each term into
 <a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clause in a BooleanQuery, and keeps the
 scores as computed by the query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NamedMatches.html" title="class in org.apache.lucene.search">NamedMatches</a></td>
<td class="colLast">
<div class="block">Utility class to help extract the set of sub queries that have matched from
 a larger query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NGramPhraseQuery.html" title="class in org.apache.lucene.search">NGramPhraseQuery</a></td>
<td class="colLast">
<div class="block">This is a <a href="../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a> which is optimized for n-gram phrase query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NormsFieldExistsQuery.html" title="class in org.apache.lucene.search">NormsFieldExistsQuery</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that matches documents that have a value for a given field
 as reported by field norms.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search">PhraseQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents containing a particular sequence of terms.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PhraseQuery.Builder.html" title="class in org.apache.lucene.search">PhraseQuery.Builder</a></td>
<td class="colLast">
<div class="block">A builder for phrase queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PointInSetQuery.html" title="class in org.apache.lucene.search">PointInSetQuery</a></td>
<td class="colLast">
<div class="block">Abstract query class to find all documents whose single or multi-dimensional point values, previously indexed with e.g.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PointInSetQuery.Stream.html" title="class in org.apache.lucene.search">PointInSetQuery.Stream</a></td>
<td class="colLast">
<div class="block">Iterator of encoded point values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PointRangeQuery.html" title="class in org.apache.lucene.search">PointRangeQuery</a></td>
<td class="colLast">
<div class="block">Abstract class for range queries against single or multidimensional points such as
 <a href="../../../../org/apache/lucene/document/IntPoint.html" title="class in org.apache.lucene.document"><code>IntPoint</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PositiveScoresOnlyCollector.html" title="class in org.apache.lucene.search">PositiveScoresOnlyCollector</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> implementation which wraps another
 <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> and makes sure only documents with
 scores &gt; 0 are collected.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PrefixQuery.html" title="class in org.apache.lucene.search">PrefixQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents containing terms with a specified prefix.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a></td>
<td class="colLast">
<div class="block">The abstract base class for queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/QueryRescorer.html" title="class in org.apache.lucene.search">QueryRescorer</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Rescorer.html" title="class in org.apache.lucene.search"><code>Rescorer</code></a> that uses a provided Query to assign
  scores to the first-pass hits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/QueryVisitor.html" title="class in org.apache.lucene.search">QueryVisitor</a></td>
<td class="colLast">
<div class="block">Allows recursion through a query tree</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="class in org.apache.lucene.search">ReferenceManager</a>&lt;G&gt;</td>
<td class="colLast">
<div class="block">Utility class to safely share instances of a certain type across multiple
 threads, while periodically refreshing them.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/RegexpQuery.html" title="class in org.apache.lucene.search">RegexpQuery</a></td>
<td class="colLast">
<div class="block">A fast regular expression query based on the
 <a href="../../../../org/apache/lucene/util/automaton/package-summary.html"><code>org.apache.lucene.util.automaton</code></a> package.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Rescorer.html" title="class in org.apache.lucene.search">Rescorer</a></td>
<td class="colLast">
<div class="block">Re-scores the topN results (<a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a>) from an original
 query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Scorable.html" title="class in org.apache.lucene.search">Scorable</a></td>
<td class="colLast">
<div class="block">Allows access to the score of a Query</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Scorable.ChildScorable.html" title="class in org.apache.lucene.search">Scorable.ChildScorable</a></td>
<td class="colLast">
<div class="block">A child Scorer and its relationship to its parent.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ScoreCachingWrappingScorer.html" title="class in org.apache.lucene.search">ScoreCachingWrappingScorer</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> which wraps another scorer and caches the score of the
 current document.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ScoreDoc.html" title="class in org.apache.lucene.search">ScoreDoc</a></td>
<td class="colLast">
<div class="block">Holds one hit in <a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search">Scorer</a></td>
<td class="colLast">
<div class="block">Expert: Common scoring functionality for different types of queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ScorerSupplier.html" title="class in org.apache.lucene.search">ScorerSupplier</a></td>
<td class="colLast">
<div class="block">A supplier of <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ScoringRewrite.html" title="class in org.apache.lucene.search">ScoringRewrite</a>&lt;B&gt;</td>
<td class="colLast">
<div class="block">Base rewrite method that translates each term into a query, and keeps
 the scores as computed by the query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherFactory.html" title="class in org.apache.lucene.search">SearcherFactory</a></td>
<td class="colLast">
<div class="block">Factory class used by <a href="../../../../org/apache/lucene/search/SearcherManager.html" title="class in org.apache.lucene.search"><code>SearcherManager</code></a> to
 create new IndexSearchers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherLifetimeManager.html" title="class in org.apache.lucene.search">SearcherLifetimeManager</a></td>
<td class="colLast">
<div class="block">Keeps track of current plus old IndexSearchers, closing
 the old ones once they have timed out.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherLifetimeManager.PruneByAge.html" title="class in org.apache.lucene.search">SearcherLifetimeManager.PruneByAge</a></td>
<td class="colLast">
<div class="block">Simple pruner that drops any searcher older by
  more than the specified seconds, than the newest
  searcher.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherManager.html" title="class in org.apache.lucene.search">SearcherManager</a></td>
<td class="colLast">
<div class="block">Utility class to safely share <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a> instances across multiple
 threads, while periodically reopening.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SimpleCollector.html" title="class in org.apache.lucene.search">SimpleCollector</a></td>
<td class="colLast">
<div class="block">Base <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> implementation that is used to collect all contexts.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SimpleFieldComparator.html" title="class in org.apache.lucene.search">SimpleFieldComparator</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Base <a href="../../../../org/apache/lucene/search/FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a> implementation that is used for all contexts.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Sort.html" title="class in org.apache.lucene.search">Sort</a></td>
<td class="colLast">
<div class="block">Encapsulates sort criteria for returned hits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortedNumericSelector.html" title="class in org.apache.lucene.search">SortedNumericSelector</a></td>
<td class="colLast">
<div class="block">Selects a value from the document's list to use as the representative value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortedNumericSortField.html" title="class in org.apache.lucene.search">SortedNumericSortField</a></td>
<td class="colLast">
<div class="block">SortField for <a href="../../../../org/apache/lucene/index/SortedNumericDocValues.html" title="class in org.apache.lucene.index"><code>SortedNumericDocValues</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortedNumericSortField.Provider.html" title="class in org.apache.lucene.search">SortedNumericSortField.Provider</a></td>
<td class="colLast">
<div class="block">A SortFieldProvider for this sort field</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortedSetSelector.html" title="class in org.apache.lucene.search">SortedSetSelector</a></td>
<td class="colLast">
<div class="block">Selects a value from the document's set to use as the representative value</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortedSetSortField.html" title="class in org.apache.lucene.search">SortedSetSortField</a></td>
<td class="colLast">
<div class="block">SortField for <a href="../../../../org/apache/lucene/index/SortedSetDocValues.html" title="class in org.apache.lucene.index"><code>SortedSetDocValues</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortedSetSortField.Provider.html" title="class in org.apache.lucene.search">SortedSetSortField.Provider</a></td>
<td class="colLast">
<div class="block">A SortFieldProvider for this sort</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortField.html" title="class in org.apache.lucene.search">SortField</a></td>
<td class="colLast">
<div class="block">Stores information about how to sort documents by terms in an individual
 field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortField.Provider.html" title="class in org.apache.lucene.search">SortField.Provider</a></td>
<td class="colLast">
<div class="block">A SortFieldProvider for field sorts</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortRescorer.html" title="class in org.apache.lucene.search">SortRescorer</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Rescorer.html" title="class in org.apache.lucene.search"><code>Rescorer</code></a> that re-sorts according to a provided
 Sort.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SynonymQuery.html" title="class in org.apache.lucene.search">SynonymQuery</a></td>
<td class="colLast">
<div class="block">A query that treats multiple terms as synonyms.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SynonymQuery.Builder.html" title="class in org.apache.lucene.search">SynonymQuery.Builder</a></td>
<td class="colLast">
<div class="block">A builder for <a href="../../../../org/apache/lucene/search/SynonymQuery.html" title="class in org.apache.lucene.search"><code>SynonymQuery</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TermInSetQuery.html" title="class in org.apache.lucene.search">TermInSetQuery</a></td>
<td class="colLast">
<div class="block">Specialization for a disjunction over many terms that behaves like a
 <a href="../../../../org/apache/lucene/search/ConstantScoreQuery.html" title="class in org.apache.lucene.search"><code>ConstantScoreQuery</code></a> over a <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> containing only
 <a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clauses.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search">TermQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents containing a term.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TermRangeQuery.html" title="class in org.apache.lucene.search">TermRangeQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents within an range of terms.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TermStatistics.html" title="class in org.apache.lucene.search">TermStatistics</a></td>
<td class="colLast">
<div class="block">Contains statistics for a specific term</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TimeLimitingCollector.html" title="class in org.apache.lucene.search">TimeLimitingCollector</a></td>
<td class="colLast">
<div class="block">The <a href="../../../../org/apache/lucene/search/TimeLimitingCollector.html" title="class in org.apache.lucene.search"><code>TimeLimitingCollector</code></a> is used to timeout search requests that
 take longer than the maximum allowed search time limit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TimeLimitingCollector.TimerThread.html" title="class in org.apache.lucene.search">TimeLimitingCollector.TimerThread</a></td>
<td class="colLast">
<div class="block">Thread used to timeout search requests.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search">TopDocs</a></td>
<td class="colLast">
<div class="block">Represents hits returned by <a href="../../../../org/apache/lucene/search/IndexSearcher.html#search-org.apache.lucene.search.Query-int-"><code>IndexSearcher.search(Query,int)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopDocsCollector.html" title="class in org.apache.lucene.search">TopDocsCollector</a>&lt;T extends <a href="../../../../org/apache/lucene/search/ScoreDoc.html" title="class in org.apache.lucene.search">ScoreDoc</a>&gt;</td>
<td class="colLast">
<div class="block">A base class for all collectors that return a <a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a> output.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopFieldCollector.html" title="class in org.apache.lucene.search">TopFieldCollector</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> that sorts by <a href="../../../../org/apache/lucene/search/SortField.html" title="class in org.apache.lucene.search"><code>SortField</code></a> using
 <a href="../../../../org/apache/lucene/search/FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopFieldDocs.html" title="class in org.apache.lucene.search">TopFieldDocs</a></td>
<td class="colLast">
<div class="block">Represents hits returned by <a href="../../../../org/apache/lucene/search/IndexSearcher.html#search-org.apache.lucene.search.Query-int-org.apache.lucene.search.Sort-"><code>IndexSearcher.search(Query,int,Sort)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopScoreDocCollector.html" title="class in org.apache.lucene.search">TopScoreDocCollector</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> implementation that collects the top-scoring hits,
 returning them as a <a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopTermsRewrite.html" title="class in org.apache.lucene.search">TopTermsRewrite</a>&lt;B&gt;</td>
<td class="colLast">
<div class="block">Base rewrite method for collecting only the top terms
 via a priority queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TotalHitCountCollector.html" title="class in org.apache.lucene.search">TotalHitCountCollector</a></td>
<td class="colLast">
<div class="block">Just counts the total number of hits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TotalHits.html" title="class in org.apache.lucene.search">TotalHits</a></td>
<td class="colLast">
<div class="block">Description of the total number of hits of a query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TwoPhaseIterator.html" title="class in org.apache.lucene.search">TwoPhaseIterator</a></td>
<td class="colLast">
<div class="block">Returned by <a href="../../../../org/apache/lucene/search/Scorer.html#twoPhaseIterator--"><code>Scorer.twoPhaseIterator()</code></a>
 to expose an approximation of a <a href="../../../../org/apache/lucene/search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/UsageTrackingQueryCachingPolicy.html" title="class in org.apache.lucene.search">UsageTrackingQueryCachingPolicy</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/QueryCachingPolicy.html" title="interface in org.apache.lucene.search"><code>QueryCachingPolicy</code></a> that tracks usage statistics of recently-used
 filters in order to decide on which filters are worth caching.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search">Weight</a></td>
<td class="colLast">
<div class="block">Expert: Calculate query weights and build query scorers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Weight.DefaultBulkScorer.html" title="class in org.apache.lucene.search">Weight.DefaultBulkScorer</a></td>
<td class="colLast">
<div class="block">Just wraps a Scorer and performs top scoring using it.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search">WildcardQuery</a></td>
<td class="colLast">
<div class="block">Implements the wildcard search query.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum Summary table, listing enums, and an explanation">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html" title="enum in org.apache.lucene.search">BooleanClause.Occur</a></td>
<td class="colLast">
<div class="block">Specifies how clauses are to occur in matching documents.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ScoreMode.html" title="enum in org.apache.lucene.search">ScoreMode</a></td>
<td class="colLast">
<div class="block">Different modes of search.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortedNumericSelector.Type.html" title="enum in org.apache.lucene.search">SortedNumericSelector.Type</a></td>
<td class="colLast">
<div class="block">Type of selection to perform.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortedSetSelector.Type.html" title="enum in org.apache.lucene.search">SortedSetSelector.Type</a></td>
<td class="colLast">
<div class="block">Type of selection to perform.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortField.Type.html" title="enum in org.apache.lucene.search">SortField.Type</a></td>
<td class="colLast">
<div class="block">Specifies the type of the terms to be sorted, or special types such as CUSTOM</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TotalHits.Relation.html" title="enum in org.apache.lucene.search">TotalHits.Relation</a></td>
<td class="colLast">
<div class="block">How the <a href="../../../../org/apache/lucene/search/TotalHits.html#value"><code>TotalHits.value</code></a> should be interpreted.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BooleanQuery.TooManyClauses.html" title="class in org.apache.lucene.search">BooleanQuery.TooManyClauses</a></td>
<td class="colLast">
<div class="block">Thrown when an attempt is made to add more than <a href="../../../../org/apache/lucene/search/BooleanQuery.html#getMaxClauseCount--"><code>BooleanQuery.getMaxClauseCount()</code></a> clauses.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/CollectionTerminatedException.html" title="class in org.apache.lucene.search">CollectionTerminatedException</a></td>
<td class="colLast">
<div class="block">Throw this exception in <a href="../../../../org/apache/lucene/search/LeafCollector.html#collect-int-"><code>LeafCollector.collect(int)</code></a> to prematurely
  terminate collection of the current leaf.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FuzzyTermsEnum.FuzzyTermsException.html" title="class in org.apache.lucene.search">FuzzyTermsEnum.FuzzyTermsException</a></td>
<td class="colLast">
<div class="block">Thrown to indicate that there was an issue creating a fuzzy query for a given term.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TimeLimitingCollector.TimeExceededException.html" title="class in org.apache.lucene.search">TimeLimitingCollector.TimeExceededException</a></td>
<td class="colLast">
<div class="block">Thrown when elapsed search time exceeds allowed search time.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package org.apache.lucene.search Description">Package org.apache.lucene.search Description</h2>
<div class="block">Code to search indices.
 
 <h2>Table Of Contents</h2>
     <ol>
         <li><a href="#search">Search Basics</a></li>
         <li><a href="#query">The Query Classes</a></li>
         <li><a href="#scoring">Scoring: Introduction</a></li>
         <li><a href="#scoringBasics">Scoring: Basics</a></li>
         <li><a href="#changingScoring">Changing the Scoring</a></li>
         <li><a href="#algorithm">Appendix: Search Algorithm</a></li>
     </ol>
 
 
 <a name="search"></a>
 <h2>Search Basics</h2>
 <p>
 Lucene offers a wide variety of <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> implementations, most of which are in
 this package, its subpackage (<a href="../../../../org/apache/lucene/search/spans/package-summary.html"><code>spans</code></a>,
 or the <a href="../../../../../queries/overview-summary.html">queries module</a>. These implementations can be combined in a wide 
 variety of ways to provide complex querying capabilities along with information about where matches took place in the document 
 collection. The <a href="#query">Query Classes</a> section below highlights some of the more important Query classes. For details 
 on implementing your own Query class, see <a href="#customQueriesExpert">Custom Queries -- Expert Level</a> below.
 <p>
 To perform a search, applications usually call <a href="../../../../org/apache/lucene/search/IndexSearcher.html#search-org.apache.lucene.search.Query-int-"><code>IndexSearcher.search(Query,int)</code></a>.
 <p>
 Once a Query has been created and submitted to the <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>, the scoring
 process begins. After some infrastructure setup, control finally passes to the <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a>
 implementation and its <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> or <a href="../../../../org/apache/lucene/search/BulkScorer.html" title="class in org.apache.lucene.search"><code>BulkScorer</code></a>
 instances. See the <a href="#algorithm">Algorithm</a> section for more notes on the process.
     <!-- FILL IN MORE HERE -->   
     <!-- TODO: this page over-links the same things too many times -->
 
 
 <a name="query"></a>
 <h2>Query Classes</h2>
 <h3>
     <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>
 </h3>
 
 <p>Of the various implementations of
     <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>, the
     <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>
     is the easiest to understand and the most often used in applications. A
     <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> matches all the documents that contain the
     specified
     <a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index"><code>Term</code></a>,
     which is a word that occurs in a certain
     <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a>.
     Thus, a <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> identifies and scores all
     <a href="../../../../org/apache/lucene/document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a>s that have a 
         <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a> with the specified string in it.
     Constructing a <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>
     is as simple as:
     <pre class="prettyprint">
         TermQuery tq = new TermQuery(new Term("fieldName", "term"));
     </pre>In this example, the <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> identifies all 
         <a href="../../../../org/apache/lucene/document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a>s that have the 
         <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a> named <tt>"fieldName"</tt>
     containing the word <tt>"term"</tt>.
 <h3>
     <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a>
 </h3>
 
 <p>Things start to get interesting when one combines multiple
     <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> instances into a 
         <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a>.
     A <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> contains multiple
     <a href="../../../../org/apache/lucene/search/BooleanClause.html" title="class in org.apache.lucene.search"><code>BooleanClause</code></a>s,
     where each clause contains a sub-query (<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>
     instance) and an operator (from 
         <a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html" title="enum in org.apache.lucene.search"><code>BooleanClause.Occur</code></a>)
     describing how that sub-query is combined with the other clauses:
     <ol>
 
         <li><p><a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#SHOULD"><code>SHOULD</code></a> &mdash; Use this operator when a clause can occur in the result set, but is not required.
             If a query is made up of all SHOULD clauses, then every document in the result
             set matches at least one of these clauses.</p></li>
 
         <li><p><a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#MUST"><code>MUST</code></a> &mdash; Use this operator when a clause is required to occur in the result set and should
             contribute to the score. Every document in the result set will match all such clauses.</p></li>
 
         <li><p><a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#FILTER"><code>FILTER</code></a> &mdash; Use this operator when a clause is required to occur in the result set but
             should not contribute to the score. Every document in the result set will match all such clauses.</p></li>
 
         <li><p><a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#MUST_NOT"><code>MUST NOT</code></a> &mdash; Use this operator when a
             clause must not occur in the result set. No
             document in the result set will match
             any such clauses.</p></li>
     </ol>
     Boolean queries are constructed by adding two or more
     <a href="../../../../org/apache/lucene/search/BooleanClause.html" title="class in org.apache.lucene.search"><code>BooleanClause</code></a>
     instances. If too many clauses are added, a <a href="../../../../org/apache/lucene/search/BooleanQuery.TooManyClauses.html" title="class in org.apache.lucene.search"><code>TooManyClauses</code></a>
     exception will be thrown during searching. This most often occurs
     when a <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>
     is rewritten into a <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> with many
     <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> clauses,
     for example by <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a>.
     The default setting for the maximum number
     of clauses is 1024, but this can be changed via the
     static method <a href="../../../../org/apache/lucene/search/BooleanQuery.html#setMaxClauseCount-int-"><code>BooleanQuery.setMaxClauseCount(int)</code></a>.
 
 <h3>Phrases</h3>
 
 <p>Another common search is to find documents containing certain phrases. This
     is handled three different ways:
     <ol>
         <li>
             <p><a href="../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a>
                 &mdash; Matches a sequence of
                 <a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index"><code>Term</code></a>s.
                 <a href="../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a> uses a slop factor to determine
                 how many positions may occur between any two terms in the phrase and still be considered a match.
           The slop is 0 by default, meaning the phrase must match exactly.</p>
         </li>
         <li>
             <p><a href="../../../../org/apache/lucene/search/MultiPhraseQuery.html" title="class in org.apache.lucene.search"><code>MultiPhraseQuery</code></a>
                 &mdash; A more general form of PhraseQuery that accepts multiple Terms
                 for a position in the phrase. For example, this can be used to perform phrase queries that also
                 incorporate synonyms.
         </li>
         <li>
             <p><a href="../../../../org/apache/lucene/search/spans/SpanNearQuery.html" title="class in org.apache.lucene.search.spans"><code>SpanNearQuery</code></a>
                 &mdash; Matches a sequence of other
                 <a href="../../../../org/apache/lucene/search/spans/SpanQuery.html" title="class in org.apache.lucene.search.spans"><code>SpanQuery</code></a>
                 instances. <a href="../../../../org/apache/lucene/search/spans/SpanNearQuery.html" title="class in org.apache.lucene.search.spans"><code>SpanNearQuery</code></a> allows for
                 much more
                 complicated phrase queries since it is constructed from other 
                     <a href="../../../../org/apache/lucene/search/spans/SpanQuery.html" title="class in org.apache.lucene.search.spans"><code>SpanQuery</code></a>
                 instances, instead of only <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>
                 instances.</p>
         </li>
     </ol>
 
 <h3>
     <a href="../../../../org/apache/lucene/search/PointRangeQuery.html" title="class in org.apache.lucene.search"><code>PointRangeQuery</code></a>
 </h3>
 
 <p>The
     <a href="../../../../org/apache/lucene/search/PointRangeQuery.html" title="class in org.apache.lucene.search"><code>PointRangeQuery</code></a>
     matches all documents that occur in a numeric range.
     For PointRangeQuery to work, you must index the values
     using a one of the numeric fields (<a href="../../../../org/apache/lucene/document/IntPoint.html" title="class in org.apache.lucene.document"><code>IntPoint</code></a>,
     <a href="../../../../org/apache/lucene/document/LongPoint.html" title="class in org.apache.lucene.document"><code>LongPoint</code></a>, <a href="../../../../org/apache/lucene/document/FloatPoint.html" title="class in org.apache.lucene.document"><code>FloatPoint</code></a>,
     or <a href="../../../../org/apache/lucene/document/DoublePoint.html" title="class in org.apache.lucene.document"><code>DoublePoint</code></a>).
 
 <h3>
     <a href="../../../../org/apache/lucene/search/PrefixQuery.html" title="class in org.apache.lucene.search"><code>PrefixQuery</code></a>,
     <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a>,
     <a href="../../../../org/apache/lucene/search/RegexpQuery.html" title="class in org.apache.lucene.search"><code>RegexpQuery</code></a>
 </h3>
 
 <p>While the
     <a href="../../../../org/apache/lucene/search/PrefixQuery.html" title="class in org.apache.lucene.search"><code>PrefixQuery</code></a>
     has a different implementation, it is essentially a special case of the
     <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a>.
     The <a href="../../../../org/apache/lucene/search/PrefixQuery.html" title="class in org.apache.lucene.search"><code>PrefixQuery</code></a> allows an application
     to identify all documents with terms that begin with a certain string. The 
         <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a> generalizes this by allowing
     for the use of <tt>*</tt> (matches 0 or more characters) and <tt>?</tt> (matches exactly one character) wildcards.
     Note that the <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a> can be quite slow. Also
     note that
     <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a> should
     not start with <tt>*</tt> and <tt>?</tt>, as these are extremely slow. 
     Some QueryParsers may not allow this by default, but provide a <code>setAllowLeadingWildcard</code> method
     to remove that protection.
     The <a href="../../../../org/apache/lucene/search/RegexpQuery.html" title="class in org.apache.lucene.search"><code>RegexpQuery</code></a> is even more general than WildcardQuery,
     allowing an application to identify all documents with terms that match a regular expression pattern.
 <h3>
     <a href="../../../../org/apache/lucene/search/FuzzyQuery.html" title="class in org.apache.lucene.search"><code>FuzzyQuery</code></a>
 </h3>

 <p>A
     <a href="../../../../org/apache/lucene/search/FuzzyQuery.html" title="class in org.apache.lucene.search"><code>FuzzyQuery</code></a>
     matches documents that contain terms similar to the specified term. Similarity is
     determined using
     <a href="http://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a>.
     This type of query can be useful when accounting for spelling variations in the collection.
 
 
 <a name="scoring"></a>
 <h2>Scoring &mdash; Introduction</h2>
 <p>Lucene scoring is the heart of why we all love Lucene. It is blazingly fast and it hides 
    almost all of the complexity from the user. In a nutshell, it works.  At least, that is, 
    until it doesn't work, or doesn't work as one would expect it to work.  Then we are left 
    digging into Lucene internals or asking for help on 
    <a href="mailto:java-user@lucene.apache.org">java-user@lucene.apache.org</a> to figure out 
    why a document with five of our query terms scores lower than a different document with 
    only one of the query terms. 
 <p>While this document won't answer your specific scoring issues, it will, hopefully, point you 
   to the places that can help you figure out the <i>what</i> and <i>why</i> of Lucene scoring.
 <p>Lucene scoring supports a number of pluggable information retrieval 
    <a href="http://en.wikipedia.org/wiki/Information_retrieval#Model_types">models</a>, including:
    <ul>
      <li><a href="http://en.wikipedia.org/wiki/Vector_Space_Model">Vector Space Model (VSM)</a></li>
      <li><a href="http://en.wikipedia.org/wiki/Probabilistic_relevance_model">Probabilistic Models</a> such as 
          <a href="http://en.wikipedia.org/wiki/Probabilistic_relevance_model_(BM25)">Okapi BM25</a> and
          <a href="http://en.wikipedia.org/wiki/Divergence-from-randomness_model">DFR</a></li>
      <li><a href="http://en.wikipedia.org/wiki/Language_model">Language models</a></li>
    </ul>
    These models can be plugged in via the <a href="../../../../org/apache/lucene/search/similarities/package-summary.html"><code>Similarity API</code></a>,
    and offer extension hooks and parameters for tuning. In general, Lucene first finds the documents
    that need to be scored based on boolean logic in the Query specification, and then ranks this subset of
    matching documents via the retrieval model. For some valuable references on VSM and IR in general refer to
    <a href="http://wiki.apache.org/lucene-java/InformationRetrieval">Lucene Wiki IR references</a>.
 <p>The rest of this document will cover <a href="#scoringBasics">Scoring basics</a> and explain how to 
    change your <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a>. Next, it will cover
    ways you can customize the lucene internals in 
    <a href="#customQueriesExpert">Custom Queries -- Expert Level</a>, which gives details on 
    implementing your own <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> class and related functionality.
    Finally, we will finish up with some reference material in the <a href="#algorithm">Appendix</a>.
 
 
 <a name="scoringBasics"></a>
 <h2>Scoring &mdash; Basics</h2>
 <p>Scoring is very much dependent on the way documents are indexed, so it is important to understand 
    indexing. (see <a href="../../../../overview-summary.html#overview_description">Lucene overview</a> 
    before continuing on with this section) Be sure to use the useful
    <a href="../../../../org/apache/lucene/search/IndexSearcher.html#explain-org.apache.lucene.search.Query-int-"><code>IndexSearcher.explain(Query, doc)</code></a>
    to understand how the score for a certain matching document was
    computed.
 
 <p>Generally, the Query determines which documents match (a binary
   decision), while the Similarity determines how to assign scores to
   the matching documents.
 
 </p>
 <h3>Fields and Documents</h3>
 <p>In Lucene, the objects we are scoring are <a href="../../../../org/apache/lucene/document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a>s.
    A Document is a collection of <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a>s.  Each Field has
    <a href="../../../../org/apache/lucene/document/FieldType.html" title="class in org.apache.lucene.document"><code>semantics</code></a> about how it is created and stored 
    (<a href="../../../../org/apache/lucene/document/FieldType.html#tokenized--"><code>tokenized</code></a>, 
    <a href="../../../../org/apache/lucene/document/FieldType.html#stored--"><code>stored</code></a>, etc). It is important to note that 
    Lucene scoring works on Fields and then combines the results to return Documents. This is 
    important because two Documents with the exact same content, but one having the content in two
    Fields and the other in one Field may return different scores for the same query due to length
    normalization.
 <h3>Score Boosting</h3>
 <p>Lucene allows influencing the score contribution of various parts of the query by wrapping with
    <a href="../../../../org/apache/lucene/search/BoostQuery.html" title="class in org.apache.lucene.search"><code>BoostQuery</code></a>.</p>
 
 <a name="changingScoring"></a>
 <h2>Changing Scoring &mdash; Similarity</h2>
 <h3>Changing the scoring formula</h3>
 <p>
 Changing <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> is an easy way to 
 influence scoring, this is done at index-time with 
 <a href="../../../../org/apache/lucene/index/IndexWriterConfig.html#setSimilarity-org.apache.lucene.search.similarities.Similarity-"><code>IndexWriterConfig.setSimilarity(Similarity)</code></a> and at query-time with
 <a href="../../../../org/apache/lucene/search/IndexSearcher.html#setSimilarity-org.apache.lucene.search.similarities.Similarity-"><code>IndexSearcher.setSimilarity(Similarity)</code></a>.  Be sure to use the same
 Similarity at query-time as at index-time (so that norms are
 encoded/decoded correctly); Lucene makes no effort to verify this.
 <p>
 You can influence scoring by configuring a different built-in Similarity implementation, or by tweaking its
 parameters, subclassing it to override behavior. Some implementations also offer a modular API which you can
 extend by plugging in a different component (e.g. term frequency normalizer).
 <p>
 Finally, you can extend the low level <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> directly
 to implement a new retrieval model.
 <p>
 See the <a href="../../../../org/apache/lucene/search/similarities/package-summary.html"><code>org.apache.lucene.search.similarities</code></a> package documentation for information
 on the built-in available scoring models and extending or changing Similarity.

 <h3>Integrating field values into the score</h3>
 <p>While similarities help score a document relatively to a query, it is also common for documents to hold
 features that measure the quality of a match. Such features are best integrated into the score by indexing
 a <a href="../../../../org/apache/lucene/document/FeatureField.html" title="class in org.apache.lucene.document"><code>FeatureField</code></a> with the document at index-time, and then
 combining the similarity score and the feature score using a linear combination. For instance the below
 query matches the same documents as <code>originalQuery</code> and computes scores as
 <code>similarityScore + 0.7 * featureScore</code>:
 <pre class="prettyprint">
 Query originalQuery = new BooleanQuery.Builder()
     .add(new TermQuery(new Term("body", "apache")), Occur.SHOULD)
     .add(new TermQuery(new Term("body", "lucene")), Occur.SHOULD)
     .build();
 Query featureQuery = FeatureField.newSaturationQuery("features", "pagerank");
 Query query = new BooleanQuery.Builder()
     .add(originalQuery, Occur.MUST)
     .add(new BoostQuery(featureQuery, 0.7f), Occur.SHOULD)
     .build();
 </pre>
 
 <p>A less efficient yet more flexible way of modifying scores is to index scoring features into
 doc-value fields and then combine them with the similarity score using a
 <a href="../../../../../queries/org/apache/lucene/queries/function/FunctionScoreQuery.html">FunctionScoreQuery</a>
 from the <a href="../../../../../queries/overview-summary.html">queries module</a>. For instance
 the below example shows how to compute scores as <code>similarityScore * Math.log(popularity)</code>
 using the <a href="../../../../../expressions/overview-summary.html">expressions module</a> and
 assuming that values for the <code>popularity</code> field have been set in a
 <a href="../../../../org/apache/lucene/document/NumericDocValuesField.html" title="class in org.apache.lucene.document"><code>NumericDocValuesField</code></a> at index time:
 <pre class="prettyprint">
   // compile an expression:
   Expression expr = JavascriptCompiler.compile("_score * ln(popularity)");

   // SimpleBindings just maps variables to SortField instances
   SimpleBindings bindings = new SimpleBindings();
   bindings.add(new SortField("_score", SortField.Type.SCORE));
   bindings.add(new SortField("popularity", SortField.Type.INT));

   // create a query that matches based on 'originalQuery' but
   // scores using expr
   Query query = new FunctionScoreQuery(
       originalQuery,
       expr.getDoubleValuesSource(bindings));
 </pre>

 <a name="customQueriesExpert"></a>
 <h2>Custom Queries &mdash; Expert Level</h2>
 
 <p>Custom queries are an expert level task, so tread carefully and be prepared to share your code if
     you want help.
 
 <p>With the warning out of the way, it is possible to change a lot more than just the Similarity
     when it comes to matching and scoring in Lucene. Lucene's search is a complex mechanism that is grounded by
     <span>three main classes</span>:
     <ol>
         <li>
             <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> &mdash; The abstract object representation of the
             user's information need.</li>
         <li>
             <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> &mdash; A specialization of a Query for a given
             index. This typically associates a Query object with index statistics that are later used to
             compute document scores.
         <li>
             <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> &mdash; The core class of the scoring process:
             for a given segment, scorers return <a href="../../../../org/apache/lucene/search/Scorer.html#iterator--"><code>iterators</code></a>
             over matches and give a way to compute the <a href="../../../../org/apache/lucene/search/Scorable.html#score--"><code>score</code></a>
             of these matches.</li>
         <li>
             <a href="../../../../org/apache/lucene/search/BulkScorer.html" title="class in org.apache.lucene.search"><code>BulkScorer</code></a> &mdash; An abstract class that scores
       a range of documents.  A default implementation simply iterates through the hits from
       <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a>, but some queries such as
       <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> have more efficient
       implementations.</li>
     </ol>
     Details on each of these classes, and their children, can be found in the subsections below.
 <h3>The Query Class</h3>
     <p>In some sense, the
         <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>
         class is where it all begins. Without a Query, there would be
         nothing to score. Furthermore, the Query class is the catalyst for the other scoring classes as it
         is often responsible
         for creating them or coordinating the functionality between them. The
         <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> class has several methods that are important for
         derived classes:
         <ol>
             <li><a href="../../../../org/apache/lucene/search/Query.html#createWeight-org.apache.lucene.search.IndexSearcher-org.apache.lucene.search.ScoreMode-float-"><code>createWeight(IndexSearcher searcher, ScoreMode scoreMode, float boost)</code></a> &mdash; A
                 <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> is the internal representation of the
                 Query, so each Query implementation must
                 provide an implementation of Weight. See the subsection on <a
                     href="#weightClass">The Weight Interface</a> below for details on implementing the Weight
                 interface.</li>
             <li><a href="../../../../org/apache/lucene/search/Query.html#rewrite-org.apache.lucene.index.IndexReader-"><code>rewrite(IndexReader reader)</code></a> &mdash; Rewrites queries into primitive queries. Primitive queries are:
                 <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>,
                 <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a>, <span
                     >and other queries that implement <a href="../../../../org/apache/lucene/search/Query.html#createWeight-org.apache.lucene.search.IndexSearcher-org.apache.lucene.search.ScoreMode-float-"><code>createWeight(IndexSearcher searcher,ScoreMode scoreMode, float boost)</code></a></span></li>
         </ol>
 <a name="weightClass"></a>
 <h3>The Weight Interface</h3>
     <p>The
         <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a>
         interface provides an internal representation of the Query so that it can be reused. Any
         <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>
         dependent state should be stored in the Weight implementation,
         not in the Query class. The interface defines four main methods:
         <ol>
             <li>
                 <a href="../../../../org/apache/lucene/search/Weight.html#scorer-org.apache.lucene.index.LeafReaderContext-"><code>scorer()</code></a> &mdash;
                 Construct a new <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> for this Weight. See <a href="#scorerClass">The Scorer Class</a>
                 below for help defining a Scorer. As the name implies, the Scorer is responsible for doing the actual scoring of documents 
                 given the Query.
             </li>
             <li>
                 <a href="../../../../org/apache/lucene/search/Weight.html#explain-org.apache.lucene.index.LeafReaderContext-int-"><code>explain(LeafReaderContext context, int doc)</code></a> &mdash; Provide a means for explaining why a given document was
                 scored the way it was.
                 Typically a weight such as TermWeight
                 that scores via a <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> will make use of the Similarity's implementation:
                 <a href="../../../../org/apache/lucene/search/similarities/Similarity.SimScorer.html#explain-org.apache.lucene.search.Explanation-long-"><code>SimScorer#explain(Explanation freq, long norm)</code></a>.
             </li>
             <li>
                 <a href="../../../../org/apache/lucene/search/Weight.html#extractTerms-java.util.Set-"><code>extractTerms(Set&lt;Term&gt; terms)</code></a> &mdash; Extract terms that
                 this query operates on. This is typically used to support distributed search: knowing the terms that a query operates on helps
                 merge index statistics of these terms so that scores are computed over a subset of the data like they would if all documents
                 were in the same index.
             </li>
             <li>
                 <a href="../../../../org/apache/lucene/search/Weight.html#matches-org.apache.lucene.index.LeafReaderContext-int-"><code>matches(LeafReaderContext context, int doc)</code></a> &mdash; Give information about positions
                 and offsets of matches. This is typically useful to implement highlighting.
             </li>
         </ol>
 <a name="scorerClass"></a>
 <h3>The Scorer Class</h3>
     <p>The
         <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a>
         abstract class provides common scoring functionality for all Scorer implementations and
         is the heart of the Lucene scoring process. The Scorer defines the following methods which
         must be implemented:
         <ol>
             <li>
                 <a href="../../../../org/apache/lucene/search/Scorer.html#iterator--"><code>iterator()</code></a> &mdash; Return a
                 <a href="../../../../org/apache/lucene/search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a> that can iterate over all
                 document that matches this Query.
             </li>
             <li>
                 <a href="../../../../org/apache/lucene/search/Scorable.html#docID--"><code>docID()</code></a> &mdash; Returns the id of the
                 <a href="../../../../org/apache/lucene/document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a> that contains the match.
             </li>
             <li>
                 <a href="../../../../org/apache/lucene/search/Scorable.html#score--"><code>score()</code></a> &mdash; Return the score of the
                 current document. This value can be determined in any appropriate way for an application. For instance, the
                 <code>TermScorer</code> simply defers to the configured Similarity:
                 <a href="../../../../org/apache/lucene/search/similarities/Similarity.SimScorer.html#score-float-long-"><code>SimScorer.score(float freq, long norm)</code></a>.
             </li>
             <li>
                 <a href="../../../../org/apache/lucene/search/Scorable.html#getChildren--"><code>getChildren()</code></a> &mdash; Returns any child subscorers
                 underneath this scorer. This allows for users to navigate the scorer hierarchy and receive more fine-grained
                 details on the scoring process.
             </li>
         </ol>
 <a name="bulkScorerClass"></a>
 <h3>The BulkScorer Class</h3>
     <p>The
         <a href="../../../../org/apache/lucene/search/BulkScorer.html" title="class in org.apache.lucene.search"><code>BulkScorer</code></a> scores a range of documents.  There is only one 
         abstract method:
         <ol>
             <li>
                 <a href="../../../../org/apache/lucene/search/BulkScorer.html#score-org.apache.lucene.search.LeafCollector-org.apache.lucene.util.Bits-int-int-"><code>score(LeafCollector,Bits,int,int)</code></a> &mdash;
     Score all documents up to but not including the specified max document.
       </li>
         </ol>
 <h3>Why would I want to add my own Query?</h3>
 
     <p>In a nutshell, you want to add your own custom Query implementation when you think that Lucene's
         aren't appropriate for the
         task that you want to do. You might be doing some cutting edge research or you need more information
         back
         out of Lucene (similar to Doug adding SpanQuery functionality).
 
 <!-- TODO: integrate this better, it's better served as an intro than an appendix -->
 
 
 <a name="algorithm"></a>
 <h2>Appendix: Search Algorithm</h2>
 <p>This section is mostly notes on stepping through the Scoring process and serves as
    fertilizer for the earlier sections.
 <p>In the typical search application, a <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>
    is passed to the <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>,
    beginning the scoring process.
 <p>Once inside the IndexSearcher, a <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a>
    is used for the scoring and sorting of the search results.
    These important objects are involved in a search:
    <ol>                
       <li>The <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> object of the Query. The
           Weight object is an internal representation of the Query that allows the Query 
           to be reused by the IndexSearcher.</li>
       <li>The IndexSearcher that initiated the call.</li>     
       <li>A <a href="../../../../org/apache/lucene/search/Sort.html" title="class in org.apache.lucene.search"><code>Sort</code></a> object for specifying how to sort
           the results if the standard score-based sort method is not desired.</li>                   
   </ol>       
 <p>Assuming we are not sorting (since sorting doesn't affect the raw Lucene score),
    we call one of the search methods of the IndexSearcher, passing in the
    <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> object created by
    <a href="../../../../org/apache/lucene/search/IndexSearcher.html#createWeight-org.apache.lucene.search.Query-org.apache.lucene.search.ScoreMode-float-"><code>IndexSearcher.createWeight(Query,ScoreMode,float)</code></a> and the number of results we want.
    This method returns a <a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a> object,
    which is an internal collection of search results. The IndexSearcher creates
    a <a href="../../../../org/apache/lucene/search/TopScoreDocCollector.html" title="class in org.apache.lucene.search"><code>TopScoreDocCollector</code></a> and
    passes it along with the Weight to another expert search method (for
    more on the <a href="../../../../org/apache/lucene/search/Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> mechanism,
    see <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>). The TopScoreDocCollector
    uses a <a href="../../../../org/apache/lucene/util/PriorityQueue.html" title="class in org.apache.lucene.util"><code>PriorityQueue</code></a> to collect the
    top results for the search.
 <p>At last, we are actually going to score some documents. The score method takes in the Collector
    (most likely the TopScoreDocCollector or TopFieldCollector) and does its business. Of course, here 
    is where things get involved. The <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> that is returned
    by the <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> object depends on what type of Query was
    submitted. In most real world applications with multiple query terms, the 
    <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> is going to be a <code>BooleanScorer2</code> created
    from <code>BooleanWeight</code> (see the section on
    <a href="#customQueriesExpert">custom queries</a> for info on changing this).
 <p>Assuming a BooleanScorer2, we get a internal Scorer based on the required, optional and prohibited parts of the query.
   Using this internal Scorer, the BooleanScorer2 then proceeds into a while loop based on the 
   <a href="../../../../org/apache/lucene/search/DocIdSetIterator.html#nextDoc--"><code>DocIdSetIterator.nextDoc()</code></a> method. The nextDoc() method advances 
   to the next document matching the query. This is an abstract method in the Scorer class and is thus 
   overridden by all derived  implementations. If you have a simple OR query your internal Scorer is most 
   likely a DisjunctionSumScorer, which essentially combines the scorers from the sub scorers of the OR'd terms.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../org/apache/lucene/search/comparators/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/search/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2021 Apache Software Foundation.  All Rights Reserved.</i>
        </small></p>
</body>
</html>
