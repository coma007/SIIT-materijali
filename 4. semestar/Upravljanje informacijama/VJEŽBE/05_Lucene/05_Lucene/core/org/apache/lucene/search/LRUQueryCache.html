<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_312) on Tue Dec 14 13:47:36 CET 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>LRUQueryCache (Lucene 8.11.1 API)</title>
<meta name="date" content="2021-12-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LRUQueryCache (Lucene 8.11.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LRUQueryCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/search/LongValuesSource.html" title="class in org.apache.lucene.search"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/lucene/search/MatchAllDocsQuery.html" title="class in org.apache.lucene.search"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/search/LRUQueryCache.html" target="_top">Frames</a></li>
<li><a href="LRUQueryCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.lucene.search</div>
<h2 title="Class LRUQueryCache" class="title">Class LRUQueryCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.search.LRUQueryCache</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/apache/lucene/search/QueryCache.html" title="interface in org.apache.lucene.search">QueryCache</a>, <a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">LRUQueryCache</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../org/apache/lucene/search/QueryCache.html" title="interface in org.apache.lucene.search">QueryCache</a>, <a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a></pre>
<div class="block">A <a href="../../../../org/apache/lucene/search/QueryCache.html" title="interface in org.apache.lucene.search"><code>QueryCache</code></a> that evicts queries using a LRU (least-recently-used)
 eviction policy in order to remain under a given maximum size and number of
 bytes used.

 This class is thread-safe.

 Note that query eviction runs in linear time with the total number of
 segments that have cache entries so this cache works best with
 <a href="../../../../org/apache/lucene/search/QueryCachingPolicy.html" title="interface in org.apache.lucene.search"><code>caching policies</code></a> that only cache on "large"
 segments, and it is advised to not share this cache across too many indices.

 A default query cache and policy instance is used in IndexSearcher. If you want to replace those defaults
 it is typically done like this:
 <pre class="prettyprint">
   final int maxNumberOfCachedQueries = 256;
   final long maxRamBytesUsed = 50 * 1024L * 1024L; // 50MB
   // these cache and policy instances can be shared across several queries and readers
   // it is fine to eg. store them into static variables
   final QueryCache queryCache = new LRUQueryCache(maxNumberOfCachedQueries, maxRamBytesUsed);
   final QueryCachingPolicy defaultCachingPolicy = new UsageTrackingQueryCachingPolicy();
   indexSearcher.setQueryCache(queryCache);
   indexSearcher.setQueryCachingPolicy(defaultCachingPolicy);
 </pre>

 This cache exposes some global statistics (<a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getHitCount--"><code>hit count</code></a>,
 <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getMissCount--"><code>miss count</code></a>, <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getCacheSize--"><code>number of cache
 entries</code></a>, <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getCacheCount--"><code>total number of DocIdSets that have ever
 been cached</code></a>, <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getEvictionCount--"><code>number of evicted entries</code></a>). In
 case you would like to have more fine-grained statistics, such as per-index
 or per-query-class statistics, it is possible to override various callbacks:
 <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onHit-java.lang.Object-org.apache.lucene.search.Query-"><code>onHit(java.lang.Object, org.apache.lucene.search.Query)</code></a>, <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onMiss-java.lang.Object-org.apache.lucene.search.Query-"><code>onMiss(java.lang.Object, org.apache.lucene.search.Query)</code></a>,
 <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onQueryCache-org.apache.lucene.search.Query-long-"><code>onQueryCache(org.apache.lucene.search.Query, long)</code></a>, <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onQueryEviction-org.apache.lucene.search.Query-long-"><code>onQueryEviction(org.apache.lucene.search.Query, long)</code></a>,
 <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onDocIdSetCache-java.lang.Object-long-"><code>onDocIdSetCache(java.lang.Object, long)</code></a>, <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onDocIdSetEviction-java.lang.Object-int-long-"><code>onDocIdSetEviction(java.lang.Object, int, long)</code></a> and <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onClear--"><code>onClear()</code></a>.
 It is better to not perform heavy computations in these methods though since
 they are called synchronously and under a lock.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/QueryCachingPolicy.html" title="interface in org.apache.lucene.search"><code>QueryCachingPolicy</code></a></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.lucene.util.Accountable">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.lucene.util.<a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a></h3>
<code><a href="../../../../org/apache/lucene/util/Accountable.html#NULL_ACCOUNTABLE">NULL_ACCOUNTABLE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#LRUQueryCache-int-long-">LRUQueryCache</a></span>(int&nbsp;maxSize,
             long&nbsp;maxRamBytesUsed)</code>
<div class="block">Create a new instance that will cache at most <code>maxSize</code> queries
 with at most <code>maxRamBytesUsed</code> bytes of memory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#LRUQueryCache-int-long-java.util.function.Predicate-float-">LRUQueryCache</a></span>(int&nbsp;maxSize,
             long&nbsp;maxRamBytesUsed,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;<a href="../../../../org/apache/lucene/index/LeafReaderContext.html" title="class in org.apache.lucene.index">LeafReaderContext</a>&gt;&nbsp;leavesToCache,
             float&nbsp;skipCacheFactor)</code>
<div class="block">Expert: Create a new instance that will cache at most <code>maxSize</code>
 queries with at most <code>maxRamBytesUsed</code> bytes of memory, only on
 leaves that satisfy <code>leavesToCache</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search">DocIdSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#cacheImpl-org.apache.lucene.search.BulkScorer-int-">cacheImpl</a></span>(<a href="../../../../org/apache/lucene/search/BulkScorer.html" title="class in org.apache.lucene.search">BulkScorer</a>&nbsp;scorer,
         int&nbsp;maxDoc)</code>
<div class="block">Default cache implementation: uses <a href="../../../../org/apache/lucene/util/RoaringDocIdSet.html" title="class in org.apache.lucene.util"><code>RoaringDocIdSet</code></a> for sets that
 have a density &lt; 1% and a <a href="../../../../org/apache/lucene/util/BitDocIdSet.html" title="class in org.apache.lucene.util"><code>BitDocIdSet</code></a> over a <a href="../../../../org/apache/lucene/util/FixedBitSet.html" title="class in org.apache.lucene.util"><code>FixedBitSet</code></a>
 otherwise.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#clear--">clear</a></span>()</code>
<div class="block">Clear the content of this cache.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#clearCoreCacheKey-java.lang.Object-">clearCoreCacheKey</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;coreKey)</code>
<div class="block">Remove all cache entries for the given core cache key.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#clearQuery-org.apache.lucene.search.Query-">clearQuery</a></span>(<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query)</code>
<div class="block">Remove all cache entries for the given query.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search">Weight</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#doCache-org.apache.lucene.search.Weight-org.apache.lucene.search.QueryCachingPolicy-">doCache</a></span>(<a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search">Weight</a>&nbsp;weight,
       <a href="../../../../org/apache/lucene/search/QueryCachingPolicy.html" title="interface in org.apache.lucene.search">QueryCachingPolicy</a>&nbsp;policy)</code>
<div class="block">Return a wrapper around the provided <code>weight</code> that will cache
 matching docs per-segment accordingly to the given <code>policy</code>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getCacheCount--">getCacheCount</a></span>()</code>
<div class="block">Return the total number of cache entries that have been generated and put
 in the cache.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getCacheSize--">getCacheSize</a></span>()</code>
<div class="block">Return the total number of <a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search"><code>DocIdSet</code></a>s which are currently stored
 in the cache.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getChildResources--">getChildResources</a></span>()</code>
<div class="block">Returns nested resources of this class.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getEvictionCount--">getEvictionCount</a></span>()</code>
<div class="block">Return the number of cache entries that have been removed from the cache
 either in order to stay under the maximum configured size/ram usage, or
 because a segment has been closed.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getHitCount--">getHitCount</a></span>()</code>
<div class="block">Over the <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getTotalCount--"><code>total</code></a> number of times that a query has
 been looked up, return how many times a cached <a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search"><code>DocIdSet</code></a> has been
 found and returned.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getMissCount--">getMissCount</a></span>()</code>
<div class="block">Over the <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getTotalCount--"><code>total</code></a> number of times that a query has
 been looked up, return how many times this query was not contained in the
 cache.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getTotalCount--">getTotalCount</a></span>()</code>
<div class="block">Return the total number of times that a <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> has been looked up
 in this <a href="../../../../org/apache/lucene/search/QueryCache.html" title="interface in org.apache.lucene.search"><code>QueryCache</code></a>.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onClear--">onClear</a></span>()</code>
<div class="block">Expert: callback when the cache is completely cleared.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onDocIdSetCache-java.lang.Object-long-">onDocIdSetCache</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;readerCoreKey,
               long&nbsp;ramBytesUsed)</code>
<div class="block">Expert: callback when a <a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search"><code>DocIdSet</code></a> is added to this cache.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onDocIdSetEviction-java.lang.Object-int-long-">onDocIdSetEviction</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;readerCoreKey,
                  int&nbsp;numEntries,
                  long&nbsp;sumRamBytesUsed)</code>
<div class="block">Expert: callback when one or more <a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search"><code>DocIdSet</code></a>s are removed from this
 cache.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onHit-java.lang.Object-org.apache.lucene.search.Query-">onHit</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;readerCoreKey,
     <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query)</code>
<div class="block">Expert: callback when there is a cache hit on a given query.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onMiss-java.lang.Object-org.apache.lucene.search.Query-">onMiss</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;readerCoreKey,
      <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query)</code>
<div class="block">Expert: callback when there is a cache miss on a given query.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onQueryCache-org.apache.lucene.search.Query-long-">onQueryCache</a></span>(<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query,
            long&nbsp;ramBytesUsed)</code>
<div class="block">Expert: callback when a query is added to this cache.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onQueryEviction-org.apache.lucene.search.Query-long-">onQueryEviction</a></span>(<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query,
               long&nbsp;ramBytesUsed)</code>
<div class="block">Expert: callback when a query is evicted from this cache.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#ramBytesUsed--">ramBytesUsed</a></span>()</code>
<div class="block">Return the memory usage of this object in bytes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LRUQueryCache-int-long-java.util.function.Predicate-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LRUQueryCache</h4>
<pre>public&nbsp;LRUQueryCache(int&nbsp;maxSize,
                     long&nbsp;maxRamBytesUsed,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;<a href="../../../../org/apache/lucene/index/LeafReaderContext.html" title="class in org.apache.lucene.index">LeafReaderContext</a>&gt;&nbsp;leavesToCache,
                     float&nbsp;skipCacheFactor)</pre>
<div class="block">Expert: Create a new instance that will cache at most <code>maxSize</code>
 queries with at most <code>maxRamBytesUsed</code> bytes of memory, only on
 leaves that satisfy <code>leavesToCache</code>.

 Also, clauses whose cost is <code>skipCacheFactor</code> times more than the cost of the top-level query
 will not be cached in order to not slow down queries too much.</div>
</li>
</ul>
<a name="LRUQueryCache-int-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LRUQueryCache</h4>
<pre>public&nbsp;LRUQueryCache(int&nbsp;maxSize,
                     long&nbsp;maxRamBytesUsed)</pre>
<div class="block">Create a new instance that will cache at most <code>maxSize</code> queries
 with at most <code>maxRamBytesUsed</code> bytes of memory. Queries will
 only be cached on leaves that have more than 10k documents and have more
 than 3% of the total number of documents in the index.
 This should guarantee that all leaves from the upper
 <a href="../../../../org/apache/lucene/index/TieredMergePolicy.html" title="class in org.apache.lucene.index"><code>tier</code></a> will be cached while ensuring that at most
 <tt>33</tt> leaves can make it to the cache (very likely less than 10 in
 practice), which is useful for this implementation since some operations
 perform in linear time with the number of cached leaves.
 Only clauses whose cost is at most 100x the cost of the top-level query will
 be cached in order to not hurt latency too much because of caching.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onHit-java.lang.Object-org.apache.lucene.search.Query-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onHit</h4>
<pre>protected&nbsp;void&nbsp;onHit(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;readerCoreKey,
                     <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query)</pre>
<div class="block">Expert: callback when there is a cache hit on a given query.
 Implementing this method is typically useful in order to compute more
 fine-grained statistics about the query cache.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onMiss-java.lang.Object-org.apache.lucene.search.Query-"><code>onMiss(java.lang.Object, org.apache.lucene.search.Query)</code></a></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="onMiss-java.lang.Object-org.apache.lucene.search.Query-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onMiss</h4>
<pre>protected&nbsp;void&nbsp;onMiss(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;readerCoreKey,
                      <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query)</pre>
<div class="block">Expert: callback when there is a cache miss on a given query.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onHit-java.lang.Object-org.apache.lucene.search.Query-"><code>onHit(java.lang.Object, org.apache.lucene.search.Query)</code></a></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="onQueryCache-org.apache.lucene.search.Query-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onQueryCache</h4>
<pre>protected&nbsp;void&nbsp;onQueryCache(<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query,
                            long&nbsp;ramBytesUsed)</pre>
<div class="block">Expert: callback when a query is added to this cache.
 Implementing this method is typically useful in order to compute more
 fine-grained statistics about the query cache.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onQueryEviction-org.apache.lucene.search.Query-long-"><code>onQueryEviction(org.apache.lucene.search.Query, long)</code></a></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="onQueryEviction-org.apache.lucene.search.Query-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onQueryEviction</h4>
<pre>protected&nbsp;void&nbsp;onQueryEviction(<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query,
                               long&nbsp;ramBytesUsed)</pre>
<div class="block">Expert: callback when a query is evicted from this cache.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onQueryCache-org.apache.lucene.search.Query-long-"><code>onQueryCache(org.apache.lucene.search.Query, long)</code></a></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="onDocIdSetCache-java.lang.Object-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onDocIdSetCache</h4>
<pre>protected&nbsp;void&nbsp;onDocIdSetCache(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;readerCoreKey,
                               long&nbsp;ramBytesUsed)</pre>
<div class="block">Expert: callback when a <a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search"><code>DocIdSet</code></a> is added to this cache.
 Implementing this method is typically useful in order to compute more
 fine-grained statistics about the query cache.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onDocIdSetEviction-java.lang.Object-int-long-"><code>onDocIdSetEviction(java.lang.Object, int, long)</code></a></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="onDocIdSetEviction-java.lang.Object-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onDocIdSetEviction</h4>
<pre>protected&nbsp;void&nbsp;onDocIdSetEviction(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;readerCoreKey,
                                  int&nbsp;numEntries,
                                  long&nbsp;sumRamBytesUsed)</pre>
<div class="block">Expert: callback when one or more <a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search"><code>DocIdSet</code></a>s are removed from this
 cache.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#onDocIdSetCache-java.lang.Object-long-"><code>onDocIdSetCache(java.lang.Object, long)</code></a></dd>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="onClear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onClear</h4>
<pre>protected&nbsp;void&nbsp;onClear()</pre>
<div class="block">Expert: callback when the cache is completely cleared.</div>
<dl>
<dt><span class="simpleTagLabel">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
</dl>
</li>
</ul>
<a name="clearCoreCacheKey-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearCoreCacheKey</h4>
<pre>public&nbsp;void&nbsp;clearCoreCacheKey(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;coreKey)</pre>
<div class="block">Remove all cache entries for the given core cache key.</div>
</li>
</ul>
<a name="clearQuery-org.apache.lucene.search.Query-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearQuery</h4>
<pre>public&nbsp;void&nbsp;clearQuery(<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&nbsp;query)</pre>
<div class="block">Remove all cache entries for the given query.</div>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">Clear the content of this cache.</div>
</li>
</ul>
<a name="doCache-org.apache.lucene.search.Weight-org.apache.lucene.search.QueryCachingPolicy-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doCache</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search">Weight</a>&nbsp;doCache(<a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search">Weight</a>&nbsp;weight,
                      <a href="../../../../org/apache/lucene/search/QueryCachingPolicy.html" title="interface in org.apache.lucene.search">QueryCachingPolicy</a>&nbsp;policy)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/lucene/search/QueryCache.html#doCache-org.apache.lucene.search.Weight-org.apache.lucene.search.QueryCachingPolicy-">QueryCache</a></code></span></div>
<div class="block">Return a wrapper around the provided <code>weight</code> that will cache
 matching docs per-segment accordingly to the given <code>policy</code>.
 NOTE: The returned weight will only be equivalent if scores are not needed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/search/QueryCache.html#doCache-org.apache.lucene.search.Weight-org.apache.lucene.search.QueryCachingPolicy-">doCache</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/search/QueryCache.html" title="interface in org.apache.lucene.search">QueryCache</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/Collector.html#scoreMode--"><code>Collector.scoreMode()</code></a></dd>
</dl>
</li>
</ul>
<a name="ramBytesUsed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ramBytesUsed</h4>
<pre>public&nbsp;long&nbsp;ramBytesUsed()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/lucene/util/Accountable.html#ramBytesUsed--">Accountable</a></code></span></div>
<div class="block">Return the memory usage of this object in bytes. Negative values are illegal.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/util/Accountable.html#ramBytesUsed--">ramBytesUsed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a></code></dd>
</dl>
</li>
</ul>
<a name="getChildResources--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildResources</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a>&gt;&nbsp;getChildResources()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/lucene/util/Accountable.html#getChildResources--">Accountable</a></code></span></div>
<div class="block">Returns nested resources of this class. 
 The result should be a point-in-time snapshot (to avoid race conditions).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/util/Accountable.html#getChildResources--">getChildResources</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/lucene/util/Accountable.html" title="interface in org.apache.lucene.util">Accountable</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/util/Accountables.html" title="class in org.apache.lucene.util"><code>Accountables</code></a></dd>
</dl>
</li>
</ul>
<a name="cacheImpl-org.apache.lucene.search.BulkScorer-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheImpl</h4>
<pre>protected&nbsp;<a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search">DocIdSet</a>&nbsp;cacheImpl(<a href="../../../../org/apache/lucene/search/BulkScorer.html" title="class in org.apache.lucene.search">BulkScorer</a>&nbsp;scorer,
                             int&nbsp;maxDoc)
                      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Default cache implementation: uses <a href="../../../../org/apache/lucene/util/RoaringDocIdSet.html" title="class in org.apache.lucene.util"><code>RoaringDocIdSet</code></a> for sets that
 have a density &lt; 1% and a <a href="../../../../org/apache/lucene/util/BitDocIdSet.html" title="class in org.apache.lucene.util"><code>BitDocIdSet</code></a> over a <a href="../../../../org/apache/lucene/util/FixedBitSet.html" title="class in org.apache.lucene.util"><code>FixedBitSet</code></a>
 otherwise.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getTotalCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalCount</h4>
<pre>public final&nbsp;long&nbsp;getTotalCount()</pre>
<div class="block">Return the total number of times that a <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> has been looked up
 in this <a href="../../../../org/apache/lucene/search/QueryCache.html" title="interface in org.apache.lucene.search"><code>QueryCache</code></a>. Note that this number is incremented once per
 segment so running a cached query only once will increment this counter
 by the number of segments that are wrapped by the searcher.
 Note that by definition, <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getTotalCount--"><code>getTotalCount()</code></a> is the sum of
 <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getHitCount--"><code>getHitCount()</code></a> and <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getMissCount--"><code>getMissCount()</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getHitCount--"><code>getHitCount()</code></a>, 
<a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getMissCount--"><code>getMissCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="getHitCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHitCount</h4>
<pre>public final&nbsp;long&nbsp;getHitCount()</pre>
<div class="block">Over the <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getTotalCount--"><code>total</code></a> number of times that a query has
 been looked up, return how many times a cached <a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search"><code>DocIdSet</code></a> has been
 found and returned.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getTotalCount--"><code>getTotalCount()</code></a>, 
<a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getMissCount--"><code>getMissCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="getMissCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMissCount</h4>
<pre>public final&nbsp;long&nbsp;getMissCount()</pre>
<div class="block">Over the <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getTotalCount--"><code>total</code></a> number of times that a query has
 been looked up, return how many times this query was not contained in the
 cache.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getTotalCount--"><code>getTotalCount()</code></a>, 
<a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getHitCount--"><code>getHitCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="getCacheSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheSize</h4>
<pre>public final&nbsp;long&nbsp;getCacheSize()</pre>
<div class="block">Return the total number of <a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search"><code>DocIdSet</code></a>s which are currently stored
 in the cache.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getCacheCount--"><code>getCacheCount()</code></a>, 
<a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getEvictionCount--"><code>getEvictionCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="getCacheCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheCount</h4>
<pre>public final&nbsp;long&nbsp;getCacheCount()</pre>
<div class="block">Return the total number of cache entries that have been generated and put
 in the cache. It is highly desirable to have a <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getHitCount--"><code>hit
 count</code></a> that is much higher than the <a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getCacheCount--"><code>cache count</code></a>
 as the opposite would indicate that the query cache makes efforts in order
 to cache queries but then they do not get reused.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getCacheSize--"><code>getCacheSize()</code></a>, 
<a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getEvictionCount--"><code>getEvictionCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="getEvictionCount--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getEvictionCount</h4>
<pre>public final&nbsp;long&nbsp;getEvictionCount()</pre>
<div class="block">Return the number of cache entries that have been removed from the cache
 either in order to stay under the maximum configured size/ram usage, or
 because a segment has been closed. High numbers of evictions might mean
 that queries are not reused or that the <a href="../../../../org/apache/lucene/search/QueryCachingPolicy.html" title="interface in org.apache.lucene.search"><code>caching policy</code></a> caches too aggressively on NRT segments which get merged
 early.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getCacheCount--"><code>getCacheCount()</code></a>, 
<a href="../../../../org/apache/lucene/search/LRUQueryCache.html#getCacheSize--"><code>getCacheSize()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LRUQueryCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/search/LongValuesSource.html" title="class in org.apache.lucene.search"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/lucene/search/MatchAllDocsQuery.html" title="class in org.apache.lucene.search"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/search/LRUQueryCache.html" target="_top">Frames</a></li>
<li><a href="LRUQueryCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2021 Apache Software Foundation.  All Rights Reserved.</i>
        </small></p>
</body>
</html>
